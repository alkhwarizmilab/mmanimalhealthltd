import{j as k,l as E,m as D,n as x,t as T}from"./chunk-6QMV6TAF.js";import{F as N,g as b,i as F,j as O,n as j}from"./chunk-JD3SAF3A.js";import{Ac as v,Ec as _,Fb as g,Gb as h,Kc as M,Nb as I,Ra as P,Va as n,Wa as p,Y as w,ba as y,fa as u,ga as C,hb as l,kb as d,ob as c,pb as r,qb as m,wb as f,zb as s,zc as S}from"./chunk-J54JXSCI.js";var q=()=>[1,2,3,4,5,6];function G(e,a){if(e&1&&(c(0,"div")(1,"div",5)(2,"div",6)(3,"div",7),m(4,"img",8),r(),c(5,"div",9),g(6),r()()()()),e&2){let t=a.$implicit,i=f();n(),d("routerLink",t.id)("state",i.products),n(3),s("src",t==null?null:t.imageUrl,P),s("alt",t.name),n(2),h(t.name)}}function H(e,a){e&1&&(c(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15),m(5,"p-skeleton",16),r()(),c(6,"div",17),m(7,"p-skeleton"),r()()()())}function J(e,a){e&1&&(c(0,"div",2,0),l(2,H,8,0,"div",10),r()),e&2&&(n(2),d("ngForOf",I(1,q)))}var z=(()=>{class e{constructor(t){this.productService=t,this.firestore=y(N),this.products=[],window.scrollTo(0,0)}ngOnInit(){this.productService.fetchProducts().subscribe(t=>{this.products=t;let i=new Map;this.products.map(o=>{i.set(o.id,o)}),this.productService.productMap=i})}addproducts(){this.products.forEach(t=>{this.productService.addProduct(t).then(i=>{})})}static{this.\u0275fac=function(i){return new(i||e)(p(x))}}static{this.\u0275cmp=u({type:e,selectors:[["app-products"]],decls:4,vars:2,consts:[["shimmer",""],[1,"col-12","sm:col-12","md:col-12","lg:col-10","mx-auto"],[1,"flex","flex-wrap","justify-content-center"],[4,"ngFor","ngForOf"],["class","flex flex-wrap justify-content-center",4,"ngIf"],[1,"p-card","m-1","sm:m-1","md:m-2","lg:m-3","p-3","cursor-pointer","transition-colors","transition-duration-500","hover:bg-black-alpha-10","hover:text-gray-900",3,"routerLink","state"],[1,"flex","flex-column","p-1","w-8rem","h-15rem","sm:w-10rem","sm:h-15rem","md:h-25rem","md:w-18rem"],[1,"flex","flex-grow-1"],[2,"width","100%","height","100%","object-fit","contain",3,"src","alt"],[1,"flex-grow-0"],["class","flex",4,"ngFor","ngForOf"],[1,"flex"],[1,"flex","p-card","m-3","p-3","cursor-pointer","transition-colors","transition-duration-500","hover:bg-black-alpha-10","hover:text-gray-900"],[1,"flex","flex-column","p-1"],[1,"flex-grow-1"],[2,"width","300px","height","400px"],["styleClass","w-full h-full"],[1,"text-lg","flex-grow-0","mt-2"]],template:function(i,o){i&1&&(c(0,"div",1)(1,"div",2),l(2,G,7,5,"div",3),r(),l(3,J,3,2,"div",4),r()),i&2&&(n(2),d("ngForOf",o.products),n(),d("ngIf",!o.products.length))},dependencies:[S,v,O,E],styles:[".card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:8px;overflow:hidden;text-align:center;display:flex;flex-direction:column;padding:8px;height:500px}.card-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f9f9f9}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100%;overflow:clip;object-fit:contain}.card-title[_ngcontent-%COMP%]{margin:8px 0;font-size:1em;color:#333}"]})}}return e})();function K(e,a){if(e&1&&m(0,"img",4),e&2){let t=f();s("ngSrc",t.product==null?null:t.product.imageUrl),s("alt",t.product==null?null:t.product.name)}}var U=(()=>{class e{constructor(t,i,o){this.router=t,this.route=i,this.productService=o,window.scrollTo(0,0)}ngOnInit(){this.route.params.subscribe(t=>{this.product=this.productService.productMap.get(t.id),this.product||this.productService.fetchProductById(t.id).subscribe(i=>{this.product=i})})}static{this.\u0275fac=function(i){return new(i||e)(p(F),p(b),p(x))}}static{this.\u0275cmp=u({type:e,selectors:[["app-product-details"]],decls:5,vars:2,consts:[[1,"flex","flex-column","p-1"],[1,"flex-grow-1"],["width","300","height","400",3,"ngSrc","alt",4,"ngIf"],[1,"text-lg","flex-grow-0"],["width","300","height","400",3,"ngSrc","alt"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1),l(2,K,1,2,"img",2),r(),c(3,"div",3),g(4),r()()),i&2&&(n(2),d("ngIf",o.product==null?null:o.product.imageUrl),n(2),h(o.product==null?null:o.product.name))},dependencies:[v,M]})}}return e})();var L=[{path:"",component:z},{path:":id",component:U}];var gt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=C({type:e})}static{this.\u0275inj=w({imports:[_,T,j.forChild(L),k,D]})}}return e})();export{gt as ProductsModule};
