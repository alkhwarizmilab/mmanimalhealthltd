import{b as O,d as u,e as N,f as R,g as H,h as B}from"./chunk-F22FIRC2.js";import{a as L,b as T,f}from"./chunk-SZ4HKH3T.js";import{$ as z,K as _,V as D,g as F,i as j,j as k,n as E}from"./chunk-EI6PZSHT.js";import"./chunk-MJR3NRSB.js";import{Dc as S,Ec as b,Ib as p,Ic as I,Kb as h,Qb as P,Rb as M,Sa as y,Ta as C,Xa as d,Ya as m,_ as g,da as x,ha as s,ia as w,jb as a,mb as l,rb as n,sb as r,tb as c}from"./chunk-KGYR7OH5.js";var K=t=>["/products",t],Q=()=>[1,2,3,4,5,6];function V(t,v){if(t&1&&(n(0,"div",5),c(1,"app-product-card",6),r()),t&2){let e=v.$implicit;d(),l("routerLink",M(3,K,e.id))("state",e)("product",e)}}function W(t,v){t&1&&(n(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),c(5,"p-skeleton",13),r()(),n(6,"div",14),c(7,"p-skeleton"),r()()()())}function X(t,v){t&1&&(n(0,"div",2,0),a(2,W,8,0,"div",7),r()),t&2&&(d(2),l("ngForOf",P(1,Q)))}var A=(()=>{class t{constructor(e){this.productService=e,this.firestore=x(z),this.products=[{shimmer:!0},{shimmer:!0},{shimmer:!0},{shimmer:!0},{shimmer:!0}]}ngOnInit(){this.fetchProducts();try{window.scrollTo(0,0)}catch{}}fetchProducts(){this.productService.fetchProducts().subscribe(e=>{this.products=e;let i=new Map;this.products.map(o=>{i.set(o.id,o)}),this.productService.productMap=i})}static{this.\u0275fac=function(i){return new(i||t)(m(f))}}static{this.\u0275cmp=s({type:t,selectors:[["app-products"]],decls:4,vars:2,consts:[["shimmer",""],[1,"col-12","sm:col-12","md:col-10","lg:col-10","mx-auto"],[1,"flex","flex-wrap","justify-content-center"],["class","w-full w-6 sm:w-6 md:w-4 lg:w-4 xl:w-4 p-1",4,"ngFor","ngForOf"],["class","flex flex-wrap justify-content-center",4,"ngIf"],[1,"w-full","w-6","sm:w-6","md:w-4","lg:w-4","xl:w-4","p-1"],[3,"routerLink","state","product"],["class","flex",4,"ngFor","ngForOf"],[1,"flex"],[1,"flex","p-card","m-3","p-3","cursor-pointer","transition-colors","transition-duration-500","hover:bg-black-alpha-10","hover:text-gray-900"],[1,"flex","flex-column","p-1"],[1,"flex-grow-1"],[2,"width","300px","height","400px"],["styleClass","w-full h-full"],[1,"text-lg","flex-grow-0","mt-2"]],template:function(i,o){i&1&&(n(0,"div",1)(1,"div",2),a(2,V,2,5,"div",3),r(),a(3,X,3,2,"div",4),r()),i&2&&(d(2),l("ngForOf",o.products),d(),l("ngIf",!o.products.length))},dependencies:[S,b,k,L,u]})}}return t})();var $=(()=>{class t{constructor(e,i,o){this.router=e,this.route=i,this.productService=o,window.scrollTo(0,0)}ngOnInit(){this.route.params.subscribe(e=>{this.product=this.productService.productMap.get(e.id),this.product||this.productService.fetchProductById(e.id).subscribe(i=>{this.product=i})})}static{this.\u0275fac=function(i){return new(i||t)(m(j),m(F),m(f))}}static{this.\u0275cmp=s({type:t,selectors:[["app-product-details"]],decls:19,vars:5,consts:[[1,"col-12","sm:col-10","md:col-8","lg:col-10","flex","mx-auto","mt-4"],[1,"card","w-full","shadow-2","p-4","flex","flex-column","gap-4","border-round"],[1,"flex","flex-column","md:flex-row","align-items-center","gap-4"],[1,"border-round","overflow-hidden","flex-shrink-0"],["alt","Product Image",2,"max-width","400px","object-fit","cover",3,"src"],[1,"flex","flex-column","gap-2","w-full"],[1,"text-2xl","font-bold","text-center","md:text-left","text-black-alpha-90"],[1,"text-md","text-center","md:text-left","text-black-alpha-70"],[1,"flex","justify-content-center","sm:justify-content-center","md:justify-content-start","gap-2"],[1,"font-semibold","text-md"],["severity","info",3,"value"],[1,"text-xl","font-semibold","text-black-alpha-90","mb-2"],[1,"text-black-alpha-70","line-height-3",3,"innerHTML"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"img",4),r(),n(5,"div",5)(6,"div",6),p(7),r(),n(8,"div",7),p(9),r(),n(10,"div",8)(11,"span",9),p(12,"Category:"),r(),c(13,"p-tag",10),r()()(),c(14,"p-divider"),n(15,"div")(16,"div",11),p(17,"Details"),r(),c(18,"div",12),r()()()),i&2&&(d(4),l("src",o.product==null?null:o.product.imageUrl,C),d(3),h(" ",o.product==null?null:o.product.name," "),d(2),h(" ",o.product==null?null:o.product.shortDescription," "),d(4),l("value",o.product==null?null:o.product.category),d(5),l("innerHTML",o.product==null?null:o.product.description,y))},dependencies:[N,H]})}}return t})();var q=[{path:"",component:A},{path:":id",component:$}];var Ft=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=g({imports:[I,_,E.forChild(q),D,T,u,O,R,B]})}}return t})();export{Ft as ProductsModule};
