import{b as O,d as u,e as N,f as R,g as H,h as B}from"./chunk-7WH3R5CV.js";import{a as D,b as T,f}from"./chunk-4DEM256L.js";import{$ as z,K as L,V as _,g as I,i as F,j,n as E}from"./chunk-EI6PZSHT.js";import"./chunk-MJR3NRSB.js";import{Dc as S,Ec as b,Ib as p,Ic as k,Kb as h,Qb as P,Rb as M,Sa as y,Ta as C,Xa as l,Ya as m,_ as g,da as x,ha as s,ia as w,jb as a,mb as d,rb as n,sb as r,tb as c}from"./chunk-KGYR7OH5.js";var K=t=>["/products",t],Q=()=>[1,2,3,4,5,6];function V(t,v){if(t&1&&(n(0,"div",5),c(1,"app-product-card",6),r()),t&2){let e=v.$implicit;l(),d("routerLink",M(3,K,e.link||e.id))("state",e)("product",e)}}function W(t,v){t&1&&(n(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),c(5,"p-skeleton",13),r()(),n(6,"div",14),c(7,"p-skeleton"),r()()()())}function X(t,v){t&1&&(n(0,"div",2,0),a(2,W,8,0,"div",7),r()),t&2&&(l(2),d("ngForOf",P(1,Q)))}var A=(()=>{class t{constructor(e){this.productService=e,this.firestore=x(z),this.products=[{shimmer:!0},{shimmer:!0},{shimmer:!0},{shimmer:!0},{shimmer:!0}]}ngOnInit(){this.fetchProducts();try{window.scrollTo(0,0)}catch{}}fetchProducts(){this.productService.fetchProducts().subscribe(e=>{this.products=e;let o=new Map;this.products.map(i=>{o.set(i.link||i.id,i)}),this.productService.productMap=o})}static{this.\u0275fac=function(o){return new(o||t)(m(f))}}static{this.\u0275cmp=s({type:t,selectors:[["app-products"]],decls:4,vars:2,consts:[["shimmer",""],[1,"col-12","sm:col-12","md:col-10","lg:col-10","mx-auto"],[1,"flex","flex-wrap","justify-content-center"],["class","w-full w-6 sm:w-6 md:w-4 lg:w-4 xl:w-4 p-1",4,"ngFor","ngForOf"],["class","flex flex-wrap justify-content-center",4,"ngIf"],[1,"w-full","w-6","sm:w-6","md:w-4","lg:w-4","xl:w-4","p-1"],[3,"routerLink","state","product"],["class","flex",4,"ngFor","ngForOf"],[1,"flex"],[1,"flex","p-card","m-3","p-3","cursor-pointer","transition-colors","transition-duration-500","hover:bg-black-alpha-10","hover:text-gray-900"],[1,"flex","flex-column","p-1"],[1,"flex-grow-1"],[2,"width","300px","height","400px"],["styleClass","w-full h-full"],[1,"text-lg","flex-grow-0","mt-2"]],template:function(o,i){o&1&&(n(0,"div",1)(1,"div",2),a(2,V,2,5,"div",3),r(),a(3,X,3,2,"div",4),r()),o&2&&(l(2),d("ngForOf",i.products),l(),d("ngIf",!i.products.length))},dependencies:[S,b,j,D,u]})}}return t})();var $=(()=>{class t{constructor(e,o,i){this.router=e,this.route=o,this.productService=i,window.scrollTo(0,0)}ngOnInit(){this.route.params.subscribe(e=>{this.product=this.productService.productMap.get(e.link),this.product||this.productService.fetchProductByLinkOrId(e.link).subscribe(o=>{this.product=o})})}static{this.\u0275fac=function(o){return new(o||t)(m(F),m(I),m(f))}}static{this.\u0275cmp=s({type:t,selectors:[["app-product-details"]],decls:19,vars:5,consts:[[1,"col-12","sm:col-10","md:col-8","lg:col-10","flex","mx-auto","mt-4"],[1,"card","w-full","shadow-2","p-4","flex","flex-column","gap-4","border-round"],[1,"flex","flex-column","md:flex-row","align-items-center","gap-4"],[1,"border-round","overflow-hidden","flex-shrink-0"],["alt","Product Image",2,"max-width","400px","object-fit","cover",3,"src"],[1,"flex","flex-column","gap-2","w-full"],[1,"text-2xl","font-bold","text-center","md:text-left","text-black-alpha-90"],[1,"text-md","text-center","md:text-left","text-black-alpha-70"],[1,"flex","justify-content-center","sm:justify-content-center","md:justify-content-start","gap-2"],[1,"font-semibold","text-md"],["severity","info",3,"value"],[1,"text-xl","font-semibold","text-black-alpha-90","mb-2"],[1,"text-black-alpha-70","line-height-3",3,"innerHTML"]],template:function(o,i){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"img",4),r(),n(5,"div",5)(6,"div",6),p(7),r(),n(8,"div",7),p(9),r(),n(10,"div",8)(11,"span",9),p(12,"Category:"),r(),c(13,"p-tag",10),r()()(),c(14,"p-divider"),n(15,"div")(16,"div",11),p(17,"Details"),r(),c(18,"div",12),r()()()),o&2&&(l(4),d("src",i.product==null?null:i.product.imageUrl,C),l(3),h(" ",i.product==null?null:i.product.name," "),l(2),h(" ",i.product==null?null:i.product.shortDescription," "),l(4),d("value",i.product==null?null:i.product.category),l(5),d("innerHTML",i.product==null?null:i.product.description,y))},dependencies:[N,H]})}}return t})();var q=[{path:"",component:A},{path:":link",component:$}];var It=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=g({imports:[k,L,E.forChild(q),_,T,u,O,R,B]})}}return t})();export{It as ProductsModule};
