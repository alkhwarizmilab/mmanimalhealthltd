import{$ as Eo,$a as Co,$b as Zl,A as lr,Aa as Ro,B as yl,Ba as Pl,Bb as Ql,C as yo,Ca as qe,Db as Jl,Ea as So,Eb as Yl,F as rt,Fa as bo,G as mn,Ga as wn,H as wt,Ha as Tn,Hc as uh,Ia as Dl,J as vo,Ja as Nl,Jc as vr,K as gn,Ka as Ol,Kc as lh,L as vl,La as kl,Lc as Li,M as _n,Ma as Ll,N as Tt,Na as xl,Nb as pr,O as Io,Oa as Ml,P as Il,Pa as Gt,Q as El,R as wl,S as Pe,Sa as Vl,T as Tl,U as ne,Ua as fr,V as X,Wa as De,X as U,Xa as Ul,Y as yn,Ya as Fl,Yb as Ci,Z as Al,Zb as Xl,_ as q,_a as Bl,_b as Pi,a as D,aa as F,ab as jl,ac as ko,b as ae,ba as k,bb as ql,bc as mr,c as hl,ca as re,cb as Po,cc as gr,d as It,da as Rl,dc as eh,e as T,ea as hr,eb as $l,ec as Di,f as dl,fa as dr,fb as zl,g as fl,ga as vn,gb as Do,gc as Ni,h as pn,ha as In,i as fo,ib as Gl,ic as th,j as po,ja as we,jb as Wl,jc as nh,k as be,ka as Sl,kc as Oi,l as ke,la as zt,m as pl,ma as Le,n as ml,na as Si,o as Et,p as mo,pc as rh,q as go,qc as Lo,r as _o,ra as wo,rb as Hl,rc as ih,s as ge,sa as bl,sc as sh,t as L,ta as Ve,tc as Te,u as ur,ua as bi,uc as oh,v as gl,va as En,vc as _r,w as _l,wa as ie,wb as Kl,wc as ah,x as G,xa as To,xc as ch,y as Ri,ya as Ao,yb as No,yc as yr,z as Ce,za as Cl,zb as Oo,zc as ki}from"./chunk-KJXMVPC6.js";var Er=class{},Vi=class{},$e=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Mo=class{encodeKey(e){return hh(e)}encodeValue(e){return hh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cm(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,l]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],h=t.get(a)||[];h.push(l),t.set(a,h)}),t}var um=/%(\d[a-f0-9])/gi,lm={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hh(n){return encodeURIComponent(n).replace(um,(e,t)=>lm[t]??e)}function xi(n){return`${n}`}var Rt=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Mo,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cm(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(xi):[xi(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(xi(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(xi(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Vo=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function hm(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dh(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function fh(n){return typeof Blob<"u"&&n instanceof Blob}function ph(n){return typeof FormData<"u"&&n instanceof FormData}function dm(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ir=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(hm(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new $e,this.context??=new Vo,!this.params)this.params=new Rt,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),h=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+h+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dh(this.body)||fh(this.body)||ph(this.body)||dm(this.body)?this.body:this.body instanceof Rt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ph(this.body)?null:fh(this.body)?this.body.type||null:dh(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Rt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,h=e.reportProgress??this.reportProgress,f=e.headers||this.headers,A=e.params||this.params,R=e.context??this.context;return e.setHeaders!==void 0&&(f=Object.keys(e.setHeaders).reduce((S,N)=>S.set(N,e.setHeaders[N]),f)),e.setParams&&(A=Object.keys(e.setParams).reduce((S,N)=>S.set(N,e.setParams[N]),A)),new n(t,r,a,{params:A,headers:f,context:R,reportProgress:h,responseType:i,withCredentials:l,transferCache:o})}},St=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(St||{}),wr=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new $e,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ui=class n extends wr{constructor(e={}){super(e),this.type=St.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wt=class n extends wr{constructor(e={}){super(e),this.type=St.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},At=class extends wr{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Rh=200,fm=204;function xo(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var pm=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ir)o=t;else{let h;i.headers instanceof $e?h=i.headers:h=new $e(i.headers);let f;i.params&&(i.params instanceof Rt?f=i.params:f=new Rt({fromObject:i.params})),o=new Ir(t,r,i.body!==void 0?i.body:null,{headers:h,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=L(o).pipe(wt(h=>this.handler.handle(h)));if(t instanceof Ir||i.observe==="events")return a;let l=a.pipe(rt(h=>h instanceof Wt));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(G(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return l.pipe(G(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return l.pipe(G(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return l.pipe(G(h=>h.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Rt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,xo(i,r))}post(t,r,i={}){return this.request("POST",t,xo(i,r))}put(t,r,i={}){return this.request("PUT",t,xo(i,r))}static{this.\u0275fac=function(r){return new(r||n)(F(Er))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),mm=/^\)\]\}',?\n/,gm="X-Request-URL";function mh(n){if(n.url)return n.url;let e=gm.toLocaleLowerCase();return n.headers.get(e)}var _m=(()=>{class n{constructor(){this.fetchImpl=k(Uo,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=k(ie)}handle(t){return new pn(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Fo,o=>r.error(new At({error:o}))),()=>i.abort()})}doRequest(t,r,i){return T(this,null,function*(){let o=this.createRequestInit(t),a;try{let N=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,D({signal:r},o)));ym(N),i.next({type:St.Sent}),a=yield N}catch(N){i.error(new At({error:N,status:N.status??0,statusText:N.statusText,url:t.urlWithParams,headers:N.headers}));return}let l=new $e(a.headers),h=a.statusText,f=mh(a)??t.urlWithParams,A=a.status,R=null;if(t.reportProgress&&i.next(new Ui({headers:l,status:A,statusText:h,url:f})),a.body){let N=a.headers.get("content-length"),P=[],O=a.body.getReader(),C=0,z,Q,x=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>T(this,null,function*(){for(;;){let{done:ee,value:Y}=yield O.read();if(ee)break;if(P.push(Y),C+=Y.length,t.reportProgress){Q=t.responseType==="text"?(Q??"")+(z??=new TextDecoder).decode(Y,{stream:!0}):void 0;let y=()=>i.next({type:St.DownloadProgress,total:N?+N:void 0,loaded:C,partialText:Q});x?x.run(y):y()}}}));let j=this.concatChunks(P,C);try{let ee=a.headers.get("Content-Type")??"";R=this.parseBody(t,j,ee)}catch(ee){i.error(new At({error:ee,headers:new $e(a.headers),status:a.status,statusText:a.statusText,url:mh(a)??t.urlWithParams}));return}}A===0&&(A=R?Rh:0),A>=200&&A<300?(i.next(new Wt({body:R,headers:l,status:A,statusText:h,url:f})),i.complete()):i.error(new At({error:R,headers:l,status:A,statusText:h,url:f}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(mm,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,a)=>r[o]=a.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Uo=class{};function Fo(){}function ym(n){n.then(Fo,Fo)}function vm(n,e){return e(n)}function Im(n,e,t){return(r,i)=>Le(t,()=>e(r,o=>n(o,i)))}var Sh=new q(""),bh=new q(""),Em=new q("",{providedIn:"root",factory:()=>!0});var gh=(()=>{class n extends Er{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=k(bi),this.contributeToStability=k(Em)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Sh),...this.injector.get(bh,[])]));this.chain=r.reduceRight((i,o)=>Im(i,o,this.injector),vm)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(_n(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(F(Vi),F(zt))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();var wm=/^\)\]\}',?\n/;function Tm(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var _h=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ge(r.\u0275loadImpl()):L(null)).pipe(Pe(()=>new pn(o=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((O,C)=>a.setRequestHeader(O,C.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let O=t.detectContentTypeHeader();O!==null&&a.setRequestHeader("Content-Type",O)}if(t.responseType){let O=t.responseType.toLowerCase();a.responseType=O!=="json"?O:"text"}let l=t.serializeBody(),h=null,f=()=>{if(h!==null)return h;let O=a.statusText||"OK",C=new $e(a.getAllResponseHeaders()),z=Tm(a)||t.url;return h=new Ui({headers:C,status:a.status,statusText:O,url:z}),h},A=()=>{let{headers:O,status:C,statusText:z,url:Q}=f(),x=null;C!==fm&&(x=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=x?Rh:0);let j=C>=200&&C<300;if(t.responseType==="json"&&typeof x=="string"){let ee=x;x=x.replace(wm,"");try{x=x!==""?JSON.parse(x):null}catch(Y){x=ee,j&&(j=!1,x={error:Y,text:x})}}j?(o.next(new Wt({body:x,headers:O,status:C,statusText:z,url:Q||void 0})),o.complete()):o.error(new At({error:x,headers:O,status:C,statusText:z,url:Q||void 0}))},R=O=>{let{url:C}=f(),z=new At({error:O,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(z)},S=!1,N=O=>{S||(o.next(f()),S=!0);let C={type:St.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(C.total=O.total),t.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},P=O=>{let C={type:St.UploadProgress,loaded:O.loaded};O.lengthComputable&&(C.total=O.total),o.next(C)};return a.addEventListener("load",A),a.addEventListener("error",R),a.addEventListener("timeout",R),a.addEventListener("abort",R),t.reportProgress&&(a.addEventListener("progress",N),l!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(l),o.next({type:St.Sent}),()=>{a.removeEventListener("error",R),a.removeEventListener("abort",R),a.removeEventListener("load",A),a.removeEventListener("timeout",R),t.reportProgress&&(a.removeEventListener("progress",N),l!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(F(Li))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Ch=new q(""),Am="XSRF-TOKEN",Rm=new q("",{providedIn:"root",factory:()=>Am}),Sm="X-XSRF-TOKEN",bm=new q("",{providedIn:"root",factory:()=>Sm}),Fi=class{},Cm=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ki(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(F(Te),F(qe),F(Rm))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function Pm(n,e){let t=n.url.toLowerCase();if(!k(Ch)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=k(Fi).getToken(),i=k(bm);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function cT(...n){let e=[pm,_h,gh,{provide:Er,useExisting:gh},{provide:Vi,useFactory:()=>k(_m,{optional:!0})??k(_h)},{provide:Sh,useValue:Pm,multi:!0},{provide:Ch,useValue:!0},{provide:Fi,useClass:Cm}];for(let t of n)e.push(...t.\u0275providers);return we(e)}var Dm=new q(""),yh="b",vh="h",Ih="s",Eh="st",wh="u",Th="rt",Mi=new q(""),Nm=["GET","HEAD"];function Om(n,e){let N=k(Mi),{isCacheActive:t}=N,r=hl(N,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Nm.includes(o)||!r.includeRequestsWithAuthHeaders&&km(n)||r.filter?.(n)===!1)return e(n);let a=k(bo),l=k(Dm,{optional:!0}),h=vr(k(qe));if(l&&!h)throw new X(2803,!1);let f=h&&l?Vm(n.url,l):n.url,A=xm(n,f),R=a.get(A,null),S=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(S=i.includeHeaders),R){let{[yh]:P,[Th]:O,[vh]:C,[Ih]:z,[Eh]:Q,[wh]:x}=R,j=P;switch(O){case"arraybuffer":j=new TextEncoder().encode(P).buffer;break;case"blob":j=new Blob([P]);break}let ee=new $e(C);return L(new Wt({body:j,headers:ee,status:z,statusText:Q,url:x}))}return e(n).pipe(ne(P=>{P instanceof Wt&&h&&a.set(A,{[yh]:P.body,[vh]:Lm(P.headers,S),[Ih]:P.status,[Eh]:P.statusText,[wh]:f,[Th]:n.responseType})}))}function km(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function Lm(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function Ah(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function xm(n,e){let{params:t,method:r,responseType:i}=n,o=Ah(t),a=n.serializeBody();a instanceof URLSearchParams?a=Ah(a):typeof a!="string"&&(a="");let l=[r,i,e,a,o].join("|"),h=Mm(l);return h}function Mm(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Ph(n){return[{provide:Mi,useFactory:()=>(ql("NgHttpTransferCache"),D({isCacheActive:!0},n))},{provide:bh,useValue:Om,multi:!0,deps:[bo,Mi]},{provide:mr,multi:!0,useFactory:()=>{let e=k(gr),t=k(Mi);return()=>{eh(e).then(()=>{t.isCacheActive=!1})}}}]}function Vm(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var qo=class extends sh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$o=class n extends qo{static makeCurrent(){ih(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Fm();return t==null?null:Bm(t)}resetBaseElement(){Tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ki(document.cookie,e)}},Tr=null;function Fm(){return Tr=Tr||document.querySelector("base"),Tr?Tr.getAttribute("href"):null}function Bm(n){return new URL(n,document.baseURI).pathname}var jm=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),zo=new q(""),kh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(F(zo),F(ie))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),ji=class{constructor(e){this._doc=e}},Bo="ng-app-id",Lh=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vr(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Bo}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Bo),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Bo,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(F(Te),F(Ro),F(So,8),F(qe))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),jo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ho=/%COMP%/g,xh="%COMP%",qm=`_nghost-${xh}`,$m=`_ngcontent-${xh}`,zm=!0,Gm=new q("",{providedIn:"root",factory:()=>zm});function Wm(n){return $m.replace(Ho,n)}function Hm(n){return qm.replace(Ho,n)}function Mh(n,e){return e.map(t=>t.replace(Ho,n))}var Dh=(()=>{class n{constructor(t,r,i,o,a,l,h,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=h,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=vr(l),this.defaultRenderer=new Ar(t,a,h,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hr.ShadowDom&&(r=ae(D({},r),{encapsulation:hr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof qi?i.applyToHost(t):i instanceof Rr&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,l=this.ngZone,h=this.eventManager,f=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(r.encapsulation){case hr.Emulated:o=new qi(h,f,r,this.appId,A,a,l,R);break;case hr.ShadowDom:return new Go(h,f,t,r,a,l,this.nonce,R);default:o=new Rr(h,f,r,A,a,l,R);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(F(kh),F(Lh),F(Ro),F(Gm),F(Te),F(qe),F(ie),F(So))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Ar=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(jo[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Nh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Nh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=jo[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=jo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(t,r,i&fr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Lo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Nh(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Go=class extends Ar{constructor(e,t,r,i,o,a,l,h){super(e,o,a,h),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=Mh(i.id,i.styles);for(let A of f){let R=document.createElement("style");l&&R.setAttribute("nonce",l),R.textContent=A,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Rr=class extends Ar{constructor(e,t,r,i,o,a,l,h){super(e,o,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=h?Mh(h,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qi=class extends Rr{constructor(e,t,r,i,o,a,l,h){let f=i+"-"+r.id;super(e,t,r,o,a,l,h,f),this.contentAttr=Wm(f),this.hostAttr=Hm(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Km=(()=>{class n extends ji{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(F(Te))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Oh=["alt","control","meta","shift"],Qm={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jm={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Ym=(()=>{class n extends ji{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lo().onAndCancel(t,o.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),Oh.forEach(f=>{let A=r.indexOf(f);A>-1&&(r.splice(A,1),a+=f+".")}),a+=o,r.length!=0||o.length===0)return null;let h={};return h.domEventName=i,h.fullKey=a,h}static matchEventFullKeyCode(t,r){let i=Qm[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Oh.forEach(a=>{if(a!==i){let l=Jm[a];l(t)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(F(Te))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function OT(n,e){return th(D({rootComponent:n},Xm(e)))}function Xm(n){return{appProviders:[...rg,...n?.providers??[]],platformProviders:ng}}function Zm(){$o.makeCurrent()}function eg(){return new To}function tg(){return Cl(document),document}var ng=[{provide:qe,useValue:uh},{provide:Pl,useValue:Zm,multi:!0},{provide:Te,useFactory:tg,deps:[]}];var rg=[{provide:Sl,useValue:"root"},{provide:To,useFactory:eg,deps:[]},{provide:zo,useClass:Km,multi:!0,deps:[Te,ie,qe]},{provide:zo,useClass:Ym,multi:!0,deps:[Te]},Dh,Lh,kh,{provide:Bl,useExisting:Dh},{provide:Li,useClass:jm,deps:[]},[]];var Vh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(F(Te))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ig=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=F(sg),i},providedIn:"root"})}}return n})(),sg=(()=>{class n extends ig{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Gt.NONE:return r;case Gt.HTML:return Tn(r,"HTML")?wn(r):Ml(this._doc,String(r)).toString();case Gt.STYLE:return Tn(r,"Style")?wn(r):r;case Gt.SCRIPT:if(Tn(r,"Script"))return wn(r);throw new X(5200,!1);case Gt.URL:return Tn(r,"URL")?wn(r):xl(String(r));case Gt.RESOURCE_URL:if(Tn(r,"ResourceURL"))return wn(r);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(t){return Dl(t)}bypassSecurityTrustStyle(t){return Nl(t)}bypassSecurityTrustScript(t){return Ol(t)}bypassSecurityTrustUrl(t){return kl(t)}bypassSecurityTrustResourceUrl(t){return Ll(t)}static{this.\u0275fac=function(r){return new(r||n)(F(Te))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wo=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(Wo||{});function kT(...n){let e=[],t=new Set,r=t.has(Wo.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return we([[],nh(),t.has(Wo.NoHttpTransferCache)||r?[]:Ph({}),e])}var V="primary",Br=Symbol("RouteTitle"),Xo=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Pn(n){return new Xo(n)}function ag(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],l=n[o];if(a[0]===":")i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cg(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ze(n[t],e[t]))return!1;return!0}function ze(n,e){let t=n?Zo(n):void 0,r=e?Zo(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Qh(n[i],e[i]))return!1;return!0}function Zo(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Qh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Jh(n){return n.length>0?n[n.length-1]:null}function Pt(n){return gl(n)?n:Zl(n)?ge(Promise.resolve(n)):L(n)}var ug={exact:Xh,subset:Zh},Yh={exact:lg,subset:hg,ignored:()=>!0};function Uh(n,e,t){return ug[t.paths](n.root,e.root,t.matrixParams)&&Yh[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function lg(n,e){return ze(n,e)}function Xh(n,e,t){if(!Kt(n.segments,e.segments)||!Gi(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Xh(n.children[r],e.children[r],t))return!1;return!0}function hg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Qh(n[t],e[t]))}function Zh(n,e,t){return ed(n,e,e.segments,t)}function ed(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Kt(i,t)||e.hasChildren()||!Gi(i,t,r))}else if(n.segments.length===t.length){if(!Kt(n.segments,t)||!Gi(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Zh(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Kt(n.segments,i)||!Gi(n.segments,i,r)||!n.children[V]?!1:ed(n.children[V],e,o,r)}}function Gi(n,e,t){return e.every((r,i)=>Yh[t](n[i].parameters,r.parameters))}var st=class{constructor(e=new H([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Pn(this.queryParams),this._queryParamMap}toString(){return pg.serialize(this)}},H=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wi(this)}},Ht=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Pn(this.parameters),this._parameterMap}toString(){return nd(this)}};function dg(n,e){return Kt(n,e)&&n.every((t,r)=>ze(t.parameters,e[r].parameters))}function Kt(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function fg(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===V&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==V&&(t=t.concat(e(i,r)))}),t}var jr=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>new Dn,providedIn:"root"})}}return n})(),Dn=class{parse(e){let t=new ta(e);return new st(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Sr(e.root,!0)}`,r=_g(e.queryParams),i=typeof e.fragment=="string"?`#${mg(e.fragment)}`:"";return`${t}${r}${i}`}},pg=new Dn;function Wi(n){return n.segments.map(e=>nd(e)).join("/")}function Sr(n,e){if(!n.hasChildren())return Wi(n);if(e){let t=n.children[V]?Sr(n.children[V],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${Sr(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=fg(n,(r,i)=>i===V?[Sr(n.children[V],!1)]:[`${i}:${Sr(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[V]!=null?`${Wi(n)}/${t[0]}`:`${Wi(n)}/(${t.join("//")})`}}function td(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $i(n){return td(n).replace(/%3B/gi,";")}function mg(n){return encodeURI(n)}function ea(n){return td(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hi(n){return decodeURIComponent(n)}function Fh(n){return Hi(n.replace(/\+/g,"%20"))}function nd(n){return`${ea(n.path)}${gg(n.parameters)}`}function gg(n){return Object.entries(n).map(([e,t])=>`;${ea(e)}=${ea(t)}`).join("")}function _g(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${$i(t)}=${$i(i)}`).join("&"):`${$i(t)}=${$i(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var yg=/^[^\/()?;#]+/;function Ko(n){let e=n.match(yg);return e?e[0]:""}var vg=/^[^\/()?;=#]+/;function Ig(n){let e=n.match(vg);return e?e[0]:""}var Eg=/^[^=?&#]+/;function wg(n){let e=n.match(Eg);return e?e[0]:""}var Tg=/^[^&#]+/;function Ag(n){let e=n.match(Tg);return e?e[0]:""}var ta=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[V]=new H(e,t)),r}parseSegment(){let e=Ko(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new Ht(Hi(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Ig(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ko(this.remaining);i&&(r=i,this.capture(r))}e[Hi(t)]=Hi(r)}parseQueryParam(e){let t=wg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=Ag(this.remaining);a&&(r=a,this.capture(r))}let i=Fh(t),o=Fh(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ko(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=V);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[V]:new H([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function rd(n){return n.segments.length>0?new H([],{[V]:n}):n}function id(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=id(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new H(n.segments,e);return Rg(t)}function Rg(n){if(n.numberOfChildren===1&&n.children[V]){let e=n.children[V];return new H(n.segments.concat(e.segments),e.children)}return n}function Qt(n){return n instanceof st}function Sg(n,e,t=null,r=null){let i=sd(n);return od(i,e,t,r)}function sd(n){let e;function t(o){let a={};for(let h of o.children){let f=t(h);a[h.outlet]=f}let l=new H(o.url,a);return o===n&&(e=l),l}let r=t(n.root),i=rd(r);return e??i}function od(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Qo(i,i,i,t,r);let o=bg(e);if(o.toRoot())return Qo(i,i,new H([],{}),t,r);let a=Cg(o,i,n),l=a.processChildren?Pr(a.segmentGroup,a.index,o.commands):cd(a.segmentGroup,a.index,o.commands);return Qo(i,a.segmentGroup,l,t,r)}function Ki(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Or(n){return typeof n=="object"&&n!=null&&n.outlets}function Qo(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([h,f])=>{o[h]=Array.isArray(f)?f.map(A=>`${A}`):`${f}`});let a;n===e?a=t:a=ad(n,e,t);let l=rd(id(a));return new st(l,o,i)}function ad(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=ad(o,e,t)}),new H(n.segments,r)}var Qi=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ki(r[0]))throw new X(4003,!1);let i=r.find(Or);if(i&&i!==Jh(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bg(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Qi(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([h,f])=>{l[h]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((l,h)=>{h==0&&l==="."||(h==0&&l===""?t=!0:l===".."?e++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new Qi(t,e,r)}var Sn=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Cg(n,e,t){if(n.isAbsolute)return new Sn(e,!0,0);if(!t)return new Sn(e,!1,NaN);if(t.parent===null)return new Sn(t,!0,0);let r=Ki(n.commands[0])?0:1,i=t.segments.length-1+r;return Pg(t,i,n.numberOfDoubleDots)}function Pg(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Sn(r,!1,i-o)}function Dg(n){return Or(n[0])?n[0].outlets:{[V]:n}}function cd(n,e,t){if(n??=new H([],{}),n.segments.length===0&&n.hasChildren())return Pr(n,e,t);let r=Ng(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new H(n.segments.slice(0,r.pathIndex),{});return o.children[V]=new H(n.segments.slice(r.pathIndex),n.children),Pr(o,0,i)}else return r.match&&i.length===0?new H(n.segments,{}):r.match&&!n.hasChildren()?na(n,e,t):r.match?Pr(n,0,i):na(n,e,t)}function Pr(n,e,t){if(t.length===0)return new H(n.segments,{});{let r=Dg(t),i={};if(Object.keys(r).some(o=>o!==V)&&n.children[V]&&n.numberOfChildren===1&&n.children[V].segments.length===0){let o=Pr(n.children[V],e,t);return new H(n.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=cd(n.children[o],e,a))}),Object.entries(n.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new H(n.segments,i)}}function Ng(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let a=n.segments[i],l=t[r];if(Or(l))break;let h=`${l}`,f=r<t.length-1?t[r+1]:null;if(i>0&&h===void 0)break;if(h&&f&&typeof f=="object"&&f.outlets===void 0){if(!jh(h,f,a))return o;r+=2}else{if(!jh(h,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function na(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Or(o)){let h=Og(o.outlets);return new H(r,h)}if(i===0&&Ki(t[0])){let h=n.segments[e];r.push(new Ht(h.path,Bh(t[0]))),i++;continue}let a=Or(o)?o.outlets[V]:`${o}`,l=i<t.length-1?t[i+1]:null;a&&l&&Ki(l)?(r.push(new Ht(a,Bh(l))),i+=2):(r.push(new Ht(a,{})),i++)}return new H(r,{})}function Og(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=na(new H([],{}),0,r))}),e}function Bh(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function jh(n,e,t){return n==t.path&&ze(e,t.parameters)}var Dr="imperative",se=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(se||{}),xe=class{constructor(e,t){this.id=e,this.url=t}},Nn=class extends xe{constructor(e,t,r="imperative",i=null){super(e,t),this.type=se.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fe=class extends xe{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=se.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Oe=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Oe||{}),Ji=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ji||{}),it=class extends xe{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=se.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bt=class extends xe{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=se.NavigationSkipped}},kr=class extends xe{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=se.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yi=class extends xe{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=se.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ra=class extends xe{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=se.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ia=class extends xe{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=se.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sa=class extends xe{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=se.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oa=class extends xe{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=se.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},aa=class{constructor(e){this.route=e,this.type=se.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ca=class{constructor(e){this.route=e,this.type=se.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ua=class{constructor(e){this.snapshot=e,this.type=se.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},la=class{constructor(e){this.snapshot=e,this.type=se.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ha=class{constructor(e){this.snapshot=e,this.type=se.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},da=class{constructor(e){this.snapshot=e,this.type=se.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xi=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=se.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Lr=class{},On=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function kg(n,e){return n.providers&&!n._injector&&(n._injector=Do(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ue(n){return n.outlet||V}function Lg(n,e){let t=n.filter(r=>Ue(r)===e);return t.push(...n.filter(r=>Ue(r)!==e)),t}function qr(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var fa=class{get injector(){return qr(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $r(this.rootInjector),this.attachRef=null}},$r=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fa(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(F(zt))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zi=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=pa(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=pa(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ma(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ma(e,this._root).map(t=>t.value)}};function pa(n,e){if(n===e.value)return e;for(let t of e.children){let r=pa(n,t);if(r)return r}return null}function ma(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ma(n,t);if(r.length)return r.unshift(e),r}return[]}var Ne=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Rn(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var es=class extends Zi{constructor(e,t){super(e),this.snapshot=t,Aa(this,e)}toString(){return this.snapshot.toString()}};function ud(n){let e=xg(n),t=new ke([new Ht("",{})]),r=new ke({}),i=new ke({}),o=new ke({}),a=new ke(""),l=new Ct(t,r,o,a,i,V,n,e.root);return l.snapshot=e.root,new es(new Ne(l,[]),e)}function xg(n){let e={},t={},r={},i="",o=new bn([],e,r,i,t,V,n,null,{});return new ns("",new Ne(o,[]))}var Ct=class{constructor(e,t,r,i,o,a,l,h){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=h,this.title=this.dataSubject?.pipe(G(f=>f[Br]))??L(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(e=>Pn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(e=>Pn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ts(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),n.params),data:D(D({},e.data),n.data),resolve:D(D(D(D({},n.data),e.data),i?.data),n._resolvedData)}:r={params:D({},n.params),data:D({},n.data),resolve:D(D({},n.data),n._resolvedData??{})},i&&hd(i)&&(r.resolve[Br]=i.title),r}var bn=class{get title(){return this.data?.[Br]}constructor(e,t,r,i,o,a,l,h,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.routeConfig=h,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ns=class extends Zi{constructor(e,t){super(t),this.url=e,Aa(this,t)}toString(){return ld(this._root)}};function Aa(n,e){e.value._routerState=n,e.children.forEach(t=>Aa(n,t))}function ld(n){let e=n.children.length>0?` { ${n.children.map(ld).join(", ")} } `:"";return`${n.value}${e}`}function Jo(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ze(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ze(e.params,t.params)||n.paramsSubject.next(t.params),cg(e.url,t.url)||n.urlSubject.next(t.url),ze(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ga(n,e){let t=ze(n.params,e.params)&&dg(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ga(n.parent,e.parent))}function hd(n){return typeof n.title=="string"||n.title===null}var Mg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new En,this.deactivateEvents=new En,this.attachEvents=new En,this.detachEvents=new En,this.parentContexts=k($r),this.location=k(jl),this.changeDetector=k(Ni),this.inputBinder=k(os,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,h=new _a(t,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:h,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=In({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Si]})}}return n})(),_a=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ct?this.route:e===$r?this.childContexts:this.parent.get(e,t)}},os=new q(""),qh=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ri([r.queryParams,r.params,r.data]).pipe(Pe(([o,a,l],h)=>(l=D(D(D({},o),a),l),h===0?L(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let a=rh(r.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of a.inputs)t.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function Vg(n,e,t){let r=xr(n,e._root,t?t._root:void 0);return new es(r,e)}function xr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Ug(n,e,t);return new Ne(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>xr(n,l)),a}}let r=Fg(e.value),i=e.children.map(o=>xr(n,o));return new Ne(r,i)}}function Ug(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xr(n,r,i);return xr(n,r)})}function Fg(n){return new Ct(new ke(n.url),new ke(n.params),new ke(n.queryParams),new ke(n.fragment),new ke(n.data),n.outlet,n.component,n)}var Mr=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},dd="ngNavigationCancelingError";function rs(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fd(!1,Oe.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function fd(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[dd]=!0,t.cancellationCode=e,t}function Bg(n){return pd(n)&&Qt(n.url)}function pd(n){return!!n&&n[dd]}var jg=(n,e,t,r)=>G(i=>(new ya(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ya=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Rn(t);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Rn(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Rn(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Rn(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new da(o.value.snapshot))}),e.children.length&&this.forwardEvent(new la(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Jo(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Jo(l.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},is=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cn=class{constructor(e,t){this.component=e,this.route=t}};function qg(n,e,t){let r=n._root,i=e?e._root:null;return br(r,i,t,[r.value])}function $g(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ln(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Al(n)?n:e.get(n):r}function br(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Rn(e);return n.children.forEach(a=>{zg(a,o[a.value.outlet],t,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Nr(l,t.getContext(a),i)),i}function zg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let h=Gg(a,o,o.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new is(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?br(n,e,l?l.children:null,r,i):br(n,e,t,r,i),h&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Cn(l.outlet.component,a))}else a&&Nr(e,l,i),i.canActivateChecks.push(new is(r)),o.component?br(n,null,l?l.children:null,r,i):br(n,null,t,r,i);return i}function Gg(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Kt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kt(n.url,e.url)||!ze(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ga(n,e)||!ze(n.queryParams,e.queryParams);case"paramsChange":default:return!ga(n,e)}}function Nr(n,e,t){let r=Rn(n),i=n.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Nr(a,e.children.getContext(o),t):Nr(a,null,t):Nr(a,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Cn(e.outlet.component,i)):t.canDeactivateChecks.push(new Cn(null,i)):t.canDeactivateChecks.push(new Cn(null,i))}function zr(n){return typeof n=="function"}function Wg(n){return typeof n=="boolean"}function Hg(n){return n&&zr(n.canLoad)}function Kg(n){return n&&zr(n.canActivate)}function Qg(n){return n&&zr(n.canActivateChild)}function Jg(n){return n&&zr(n.canDeactivate)}function Yg(n){return n&&zr(n.canMatch)}function md(n){return n instanceof _l||n?.name==="EmptyError"}var zi=Symbol("INITIAL_VALUE");function kn(){return Pe(n=>Ri(n.map(e=>e.pipe(gn(1),wl(zi)))).pipe(G(e=>{for(let t of e)if(t!==!0){if(t===zi)return zi;if(t===!1||Xg(t))return t}return!0}),rt(e=>e!==zi),gn(1)))}function Xg(n){return Qt(n)||n instanceof Mr}function Zg(n,e){return Ce(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?L(ae(D({},t),{guardsResult:!0})):e_(a,r,i,n).pipe(Ce(l=>l&&Wg(l)?t_(r,o,n,e):L(l)),G(l=>ae(D({},t),{guardsResult:l})))})}function e_(n,e,t,r){return ge(n).pipe(Ce(i=>o_(i.component,i.route,t,e,r)),Tt(i=>i!==!0,!0))}function t_(n,e,t,r){return ge(e).pipe(wt(i=>yl(r_(i.route.parent,r),n_(i.route,r),s_(n,i.path,t),i_(n,i.route,t))),Tt(i=>i!==!0,!0))}function n_(n,e){return n!==null&&e&&e(new ha(n)),L(!0)}function r_(n,e){return n!==null&&e&&e(new ua(n)),L(!0)}function i_(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let i=r.map(o=>yo(()=>{let a=qr(e)??t,l=Ln(o,a),h=Kg(l)?l.canActivate(e,n):Le(a,()=>l(e,n));return Pt(h).pipe(Tt())}));return L(i).pipe(kn())}function s_(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>$g(a)).filter(a=>a!==null).map(a=>yo(()=>{let l=a.guards.map(h=>{let f=qr(a.node)??t,A=Ln(h,f),R=Qg(A)?A.canActivateChild(r,n):Le(f,()=>A(r,n));return Pt(R).pipe(Tt())});return L(l).pipe(kn())}));return L(o).pipe(kn())}function o_(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let a=o.map(l=>{let h=qr(e)??i,f=Ln(l,h),A=Jg(f)?f.canDeactivate(n,e,t,r):Le(h,()=>f(n,e,t,r));return Pt(A).pipe(Tt())});return L(a).pipe(kn())}function a_(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return L(!0);let o=i.map(a=>{let l=Ln(a,n),h=Hg(l)?l.canLoad(e,t):Le(n,()=>l(e,t));return Pt(h)});return L(o).pipe(kn(),gd(r))}function gd(n){return fl(ne(e=>{if(typeof e!="boolean")throw rs(n,e)}),G(e=>e===!0))}function c_(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return L(!0);let o=i.map(a=>{let l=Ln(a,n),h=Yg(l)?l.canMatch(e,t):Le(n,()=>l(e,t));return Pt(h)});return L(o).pipe(kn(),gd(r))}var Vr=class{constructor(e){this.segmentGroup=e||null}},Ur=class extends Error{constructor(e){super(),this.urlTree=e}};function An(n){return ur(new Vr(n))}function u_(n){return ur(new X(4e3,!1))}function l_(n){return ur(fd(!1,Oe.GuardRejected))}var va=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return L(r);if(i.numberOfChildren>1||!i.children[V])return u_(`${e.redirectTo}`);i=i.children[V]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let l=t,{queryParams:h,fragment:f,routeConfig:A,url:R,outlet:S,params:N,data:P,title:O}=i,C=Le(o,()=>l({params:N,data:P,queryParams:h,fragment:f,routeConfig:A,url:R,outlet:S,title:O}));if(C instanceof st)throw new Ur(C);t=C}let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ur(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new st(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);r[i]=t[l]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),a={};return Object.entries(t.children).forEach(([l,h])=>{a[l]=this.createSegmentGroup(e,h,r,i)}),new H(o,a)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ia={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h_(n,e,t,r,i){let o=_d(n,e,t);return o.matched?(r=kg(e,r),c_(r,e,t,i).pipe(G(a=>a===!0?o:D({},Ia)))):L(o)}function _d(n,e,t){if(e.path==="**")return d_(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?D({},Ia):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ag)(t,n,e);if(!i)return D({},Ia);let o={};Object.entries(i.posParams??{}).forEach(([l,h])=>{o[l]=h.path});let a=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function d_(n){return{matched:!0,parameters:n.length>0?Jh(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function $h(n,e,t,r){return t.length>0&&m_(n,t,r)?{segmentGroup:new H(e,p_(r,new H(t,n.children))),slicedSegments:[]}:t.length===0&&g_(n,t,r)?{segmentGroup:new H(n.segments,f_(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new H(n.segments,n.children),slicedSegments:t}}function f_(n,e,t,r){let i={};for(let o of t)if(as(n,e,o)&&!r[Ue(o)]){let a=new H([],{});i[Ue(o)]=a}return D(D({},r),i)}function p_(n,e){let t={};t[V]=e;for(let r of n)if(r.path===""&&Ue(r)!==V){let i=new H([],{});t[Ue(r)]=i}return t}function m_(n,e,t){return t.some(r=>as(n,e,r)&&Ue(r)!==V)}function g_(n,e,t){return t.some(r=>as(n,e,r))}function as(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function __(n,e,t){return e.length===0&&!n.children[t]}var Ea=class{};function y_(n,e,t,r,i,o,a="emptyOnly"){return new wa(n,e,t,r,i,a,o).recognize()}var v_=31,wa=class{constructor(e,t,r,i,o,a,l){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new va(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=$h(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(G(({children:t,rootSnapshot:r})=>{let i=new Ne(r,t),o=new ns("",i),a=Sg(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let t=new bn([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,V,t).pipe(G(r=>({children:r,rootSnapshot:t})),mn(r=>{if(r instanceof Ur)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vr?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(G(a=>a instanceof Ne?[a]:[]))}processChildren(e,t,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return ge(o).pipe(wt(a=>{let l=r.children[a],h=Lg(t,a);return this.processSegmentGroup(e,h,l,a,i)}),El((a,l)=>(a.push(...l),a)),vo(null),Il(),Ce(a=>{if(a===null)return An(r);let l=yd(a);return I_(l),L(l)}))}processSegment(e,t,r,i,o,a,l){return ge(t).pipe(wt(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,r,i,o,a,l).pipe(mn(f=>{if(f instanceof Vr)return L(null);throw f}))),Tt(h=>!!h),mn(h=>{if(md(h))return __(r,i,o)?L(new Ea):An(r);throw h}))}processSegmentAgainstRoute(e,t,r,i,o,a,l,h){return Ue(r)!==a&&(a===V||!as(i,o,r))?An(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,a,h):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,a,h):An(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,a,l){let{matched:h,parameters:f,consumedSegments:A,positionalParamSegments:R,remainingSegments:S}=_d(t,i,o);if(!h)return An(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>v_&&(this.allowRedirects=!1));let N=new bn(o,f,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,zh(i),Ue(i),i.component??i._loadedComponent??null,i,Gh(i)),P=ts(N,l,this.paramsInheritanceStrategy);N.params=Object.freeze(P.params),N.data=Object.freeze(P.data);let O=this.applyRedirects.applyRedirectCommands(A,i.redirectTo,R,N,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(Ce(C=>this.processSegment(e,r,t,C.concat(S),a,!1,l)))}matchSegmentAgainstRoute(e,t,r,i,o,a){let l=h_(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),l.pipe(Pe(h=>h.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pe(({routes:f})=>{let A=r._loadedInjector??e,{parameters:R,consumedSegments:S,remainingSegments:N}=h,P=new bn(S,R,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,zh(r),Ue(r),r.component??r._loadedComponent??null,r,Gh(r)),O=ts(P,a,this.paramsInheritanceStrategy);P.params=Object.freeze(O.params),P.data=Object.freeze(O.data);let{segmentGroup:C,slicedSegments:z}=$h(t,S,N,f);if(z.length===0&&C.hasChildren())return this.processChildren(A,f,C,P).pipe(G(x=>new Ne(P,x)));if(f.length===0&&z.length===0)return L(new Ne(P,[]));let Q=Ue(r)===o;return this.processSegment(A,f,C,z,Q?V:o,!0,P).pipe(G(x=>new Ne(P,x instanceof Ne?[x]:[])))}))):An(t)))}getChildConfig(e,t,r){return t.children?L({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?L({routes:t._loadedRoutes,injector:t._loadedInjector}):a_(e,t,r,this.urlSerializer).pipe(Ce(i=>i?this.configLoader.loadChildren(e,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):l_(t))):L({routes:[],injector:e})}};function I_(n){n.sort((e,t)=>e.value.outlet===V?-1:t.value.outlet===V?1:e.value.outlet.localeCompare(t.value.outlet))}function E_(n){let e=n.value.routeConfig;return e&&e.path===""}function yd(n){let e=[],t=new Set;for(let r of n){if(!E_(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=yd(r.children);e.push(new Ne(r.value,i))}return e.filter(r=>!t.has(r))}function zh(n){return n.data||{}}function Gh(n){return n.resolve||{}}function w_(n,e,t,r,i,o){return Ce(a=>y_(n,e,t,r,a.extractedUrl,i,o).pipe(G(({state:l,tree:h})=>ae(D({},a),{targetSnapshot:l,urlAfterRedirects:h}))))}function T_(n,e){return Ce(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return L(t);let o=new Set(i.map(h=>h.route)),a=new Set;for(let h of o)if(!a.has(h))for(let f of vd(h))a.add(f);let l=0;return ge(a).pipe(wt(h=>o.has(h)?A_(h,r,n,e):(h.data=ts(h,h.parent,n).resolve,L(void 0))),ne(()=>l++),Io(1),Ce(h=>l===a.size?L(t):Et))})}function vd(n){let e=n.children.map(t=>vd(t)).flat();return[n,...e]}function A_(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!hd(i)&&(o[Br]=i.title),R_(o,n,e,r).pipe(G(a=>(n._resolvedData=a,n.data=ts(n,n.parent,t).resolve,null)))}function R_(n,e,t,r){let i=Zo(n);if(i.length===0)return L({});let o={};return ge(i).pipe(Ce(a=>S_(n[a],e,t,r).pipe(Tt(),ne(l=>{if(l instanceof Mr)throw rs(new Dn,l);o[a]=l}))),Io(1),vl(o),mn(a=>md(a)?Et:ur(a)))}function S_(n,e,t,r){let i=qr(e)??r,o=Ln(n,i),a=o.resolve?o.resolve(e,t):Le(i,()=>o(e,t));return Pt(a)}function Yo(n){return Pe(e=>{let t=n(e);return t?ge(t).pipe(G(()=>e)):L(e)})}var Id=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===V);return r}getResolvedTitleForRoute(t){return t.data[Br]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>k(b_),providedIn:"root"})}}return n})(),b_=(()=>{class n extends Id{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(F(Vh))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gr=new q("",{providedIn:"root",factory:()=>({})}),C_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=dr({type:n,selectors:[["ng-component"]],standalone:!0,features:[pr],decls:1,vars:0,template:function(r,i){r&1&&Hl(0,"router-outlet")},dependencies:[Mg],encapsulation:2})}}return n})();function Ra(n){let e=n.children&&n.children.map(Ra),t=e?ae(D({},n),{children:e}):D({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==V&&(t.component=C_),t}var Fr=new q(""),Sa=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Di)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return L(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Pt(t.loadComponent()).pipe(G(Ed),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),_n(()=>{this.componentLoaders.delete(t)})),i=new po(r,()=>new be).pipe(fo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=P_(r,this.compiler,t,this.onLoadEndListener).pipe(_n(()=>{this.childrenLoaders.delete(r)})),a=new po(o,()=>new be).pipe(fo());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function P_(n,e,t,r){return Pt(n.loadChildren()).pipe(G(Ed),Ce(i=>i instanceof zl||Array.isArray(i)?L(i):ge(e.compileModuleAsync(i))),G(i=>{r&&r(n);let o,a,l=!1;return Array.isArray(i)?(a=i,l=!0):(o=i.create(t).injector,a=o.get(Fr,[],{optional:!0,self:!0}).flat()),{routes:a.map(Ra),injector:o}}))}function D_(n){return n&&typeof n=="object"&&"default"in n}function Ed(n){return D_(n)?n.default:n}var ba=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>k(N_),providedIn:"root"})}}return n})(),N_=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wd=new q(""),Td=new q("");function O_(n,e,t){let r=n.get(Td),i=n.get(Te);return n.get(ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(f=>setTimeout(f));let o,a=new Promise(f=>{o=f}),l=i.startViewTransition(()=>(o(),k_(n))),{onViewTransitionCreated:h}=r;return h&&Le(n,()=>h({transition:l,from:e,to:t})),a})}function k_(n){return new Promise(e=>{Gl({read:()=>setTimeout(e)},{injector:n})})}var L_=new q(""),Ca=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be,this.transitionAbortSubject=new be,this.configLoader=k(Sa),this.environmentInjector=k(zt),this.urlSerializer=k(jr),this.rootContexts=k($r),this.location=k(yr),this.inputBindingEnabled=k(os,{optional:!0})!==null,this.titleStrategy=k(Id),this.options=k(Gr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(ba),this.createViewTransition=k(wd,{optional:!0}),this.navigationErrorHandler=k(L_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null;let t=i=>this.events.next(new aa(i)),r=i=>this.events.next(new ca(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ae(D(D({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ke({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dr,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rt(o=>o.id!==0),G(o=>ae(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pe(o=>{let a=!1,l=!1;return L(o).pipe(Pe(h=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Oe.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,targetBrowserUrl:typeof h.extras.browserUrl=="string"?this.urlSerializer.parse(h.extras.browserUrl):h.extras.browserUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?ae(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),A=h.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!f&&A!=="reload"){let R="";return this.events.next(new bt(h.id,this.urlSerializer.serialize(h.rawUrl),R,Ji.IgnoredSameUrlNavigation)),h.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return L(h).pipe(Pe(R=>{let S=this.transitions?.getValue();return this.events.next(new Nn(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),S!==this.transitions?.getValue()?Et:Promise.resolve(R)}),w_(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(R=>{o.targetSnapshot=R.targetSnapshot,o.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation=ae(D({},this.currentNavigation),{finalUrl:R.urlAfterRedirects});let S=new Yi(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(S)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:R,extractedUrl:S,source:N,restoredState:P,extras:O}=h,C=new Nn(R,this.urlSerializer.serialize(S),N,P);this.events.next(C);let z=ud(this.rootComponentType).snapshot;return this.currentTransition=o=ae(D({},h),{targetSnapshot:z,urlAfterRedirects:S,extras:ae(D({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,L(o)}else{let R="";return this.events.next(new bt(h.id,this.urlSerializer.serialize(h.extractedUrl),R,Ji.IgnoredByUrlHandlingStrategy)),h.resolve(!1),Et}}),ne(h=>{let f=new ra(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),G(h=>(this.currentTransition=o=ae(D({},h),{guards:qg(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),o)),Zg(this.environmentInjector,h=>this.events.next(h)),ne(h=>{if(o.guardsResult=h.guardsResult,h.guardsResult&&typeof h.guardsResult!="boolean")throw rs(this.urlSerializer,h.guardsResult);let f=new ia(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(f)}),rt(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Oe.GuardRejected),!1)),Yo(h=>{if(h.guards.canActivateChecks.length)return L(h).pipe(ne(f=>{let A=new sa(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(A)}),Pe(f=>{let A=!1;return L(f).pipe(T_(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(f,"",Oe.NoDataFromResolver)}}))}),ne(f=>{let A=new oa(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(A)}))}),Yo(h=>{let f=A=>{let R=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(A.routeConfig).pipe(ne(S=>{A.component=S}),G(()=>{})));for(let S of A.children)R.push(...f(S));return R};return Ri(f(h.targetSnapshot.root)).pipe(vo(null),gn(1))}),Yo(()=>this.afterPreactivation()),Pe(()=>{let{currentSnapshot:h,targetSnapshot:f}=o,A=this.createViewTransition?.(this.environmentInjector,h.root,f.root);return A?ge(A).pipe(G(()=>o)):L(o)}),G(h=>{let f=Vg(t.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=o=ae(D({},h),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),ne(()=>{this.events.next(new Lr)}),jg(this.rootContexts,t.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),gn(1),ne({next:h=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fe(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{a=!0}}),Tl(this.transitionAbortSubject.pipe(ne(h=>{throw h}))),_n(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Oe.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),mn(h=>{if(l=!0,pd(h))this.events.next(new it(o.id,this.urlSerializer.serialize(o.extractedUrl),h.message,h.cancellationCode)),Bg(h)?this.events.next(new On(h.url,h.navigationBehaviorOptions)):o.resolve(!1);else{let f=new kr(o.id,this.urlSerializer.serialize(o.extractedUrl),h,o.targetSnapshot??void 0);try{let A=Le(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(A instanceof Mr){let{message:R,cancellationCode:S}=rs(this.urlSerializer,A);this.events.next(new it(o.id,this.urlSerializer.serialize(o.extractedUrl),R,S)),this.events.next(new On(A.redirectTo,A.navigationBehaviorOptions))}else{this.events.next(f);let R=t.errorHandler(h);o.resolve(!!R)}}catch(A){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(A)}}return Et}))}))}cancelNavigationTransition(t,r,i){let o=new it(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function x_(n){return n!==Dr}var M_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>k(V_),providedIn:"root"})}}return n})(),Ta=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},V_=(()=>{class n extends Ta{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wo(n)))(i||n)}})()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ad=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>k(U_),providedIn:"root"})}}return n})(),U_=(()=>{class n extends Ad{constructor(){super(...arguments),this.location=k(yr),this.urlSerializer=k(jr),this.options=k(Gr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(ba),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new st,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ud(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Nn)this.stateMemento=this.createStateMemento();else if(t instanceof bt)this.rawUrlTree=r.initialUrl;else if(t instanceof Yi){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Lr?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof it&&(t.code===Oe.GuardRejected||t.code===Oe.NoDataFromResolver)?this.restoreHistory(r):t instanceof kr?this.restoreHistory(r,!0):t instanceof Fe&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof st?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,a=D(D({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",a)}else{let o=D(D({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wo(n)))(i||n)}})()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Cr=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Cr||{});function Rd(n,e){n.events.pipe(rt(t=>t instanceof Fe||t instanceof it||t instanceof kr||t instanceof bt),G(t=>t instanceof Fe||t instanceof bt?Cr.COMPLETE:(t instanceof it?t.code===Oe.Redirect||t.code===Oe.SupersededByNewNavigation:!1)?Cr.REDIRECTING:Cr.FAILED),rt(t=>t!==Cr.REDIRECTING),gn(1)).subscribe(()=>{e()})}function F_(n){throw n}var B_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ge=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Pi),this.stateManager=k(Ad),this.options=k(Gr,{optional:!0})||{},this.pendingTasks=k(bi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Ca),this.urlSerializer=k(jr),this.location=k(yr),this.urlHandlingStrategy=k(ba),this._events=new be,this.errorHandler=this.options.errorHandler||F_,this.navigated=!1,this.routeReuseStrategy=k(M_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Fr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(os,{optional:!0}),this.eventsSubscription=new dl,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof it&&r.code!==Oe.Redirect&&r.code!==Oe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Fe)this.navigated=!0;else if(r instanceof On){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),h=D({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||x_(i.source)},a);this.scheduleNavigation(l,Dr,null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$_(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let h=D({},i);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(o.state=h)}let l=this.parseUrl(t);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ra),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:h}=r,f=h?this.currentUrlTree.fragment:a,A=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":A=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=o||null}A!==null&&(A=this.removeEmptyProps(A));let R;try{let S=i?i.snapshot:this.routerState.snapshot.root;R=sd(S)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),R=this.currentUrlTree.root}return od(R,t,A,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qt(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Dr,null,r)}navigate(t,r={skipLocationChange:!1}){return q_(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=D({},B_):r===!1?i=D({},j_):i=r,Qt(t))return Uh(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Uh(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let l,h,f;a?(l=a.resolve,h=a.reject,f=a.promise):f=new Promise((R,S)=>{l=R,h=S});let A=this.pendingTasks.add();return Rd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(R=>Promise.reject(R))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function q_(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new X(4008,!1)}function $_(n){return!(n instanceof Lr)&&!(n instanceof On)}var Wh=(()=>{class n{constructor(t,r,i,o,a,l){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let h=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=t.events.subscribe(f=>{f instanceof Fe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qt(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Vl(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Qt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(De(Ge),De(Ct),bl("tabindex"),De(Co),De(Ao),De(_r))}}static{this.\u0275dir=In({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Kl("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Wl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oi],replaceUrl:[2,"replaceUrl","replaceUrl",Oi],routerLink:"routerLink"},standalone:!0,features:[$l,Si]})}}return n})(),XT=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,a){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new En,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof Fe&&this.update()})}ngAfterContentInit(){L(this.links.changes,L(null)).pipe(lr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ge(t).pipe(lr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=z_(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(De(Ge),De(Ao),De(Co),De(Ni),De(Wh,8))}}static{this.\u0275dir=In({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Ql(o,Wh,5),r&2){let a;Jl(a=Yl())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Si]})}}return n})();function z_(n){return!!n.paths}var ss=class{};var G_=(()=>{class n{constructor(t,r,i,o,a){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(rt(t=>t instanceof Fe),wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Do(o.providers,t,`Route: ${o.path}`));let a=o._injector??t,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return ge(i).pipe(lr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=L(null);let o=i.pipe(Ce(a=>a===null?L(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ge([o,a]).pipe(lr())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(F(Ge),F(Di),F(zt),F(ss),F(Sa))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sd=new q(""),W_=(()=>{class n{constructor(t,r,i,o,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fe?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof bt&&t.code===Ji.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xi&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xi(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){Ul()}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function ZT(n,...e){return we([{provide:Fr,multi:!0,useValue:n},[],{provide:Ct,useFactory:bd,deps:[Ge]},{provide:mr,multi:!0,useFactory:Cd},e.map(t=>t.\u0275providers)])}function bd(n){return n.routerState.root}function Wr(n,e){return{\u0275kind:n,\u0275providers:e}}function Cd(){let n=k(Ve);return e=>{let t=n.get(gr);if(e!==t.components[0])return;let r=n.get(Ge),i=n.get(Pd);n.get(Pa)===1&&r.initialNavigation(),n.get(Dd,null,Eo.Optional)?.setUpPreloading(),n.get(Sd,null,Eo.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Pd=new q("",{factory:()=>new be}),Pa=new q("",{providedIn:"root",factory:()=>1});function H_(){return Wr(2,[{provide:Pa,useValue:0},{provide:ko,multi:!0,deps:[Ve],useFactory:e=>{let t=e.get(oh,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Ge),o=e.get(Pd);Rd(i,()=>{r(!0)}),e.get(Ca).afterPreactivation=()=>(r(!0),o.closed?L(void 0):o),i.initialNavigation()}))}}])}function K_(){return Wr(3,[{provide:ko,multi:!0,useFactory:()=>{let e=k(Ge);return()=>{e.setUpLocationChangeListener()}}},{provide:Pa,useValue:2}])}var Dd=new q("");function Q_(n){return Wr(0,[{provide:Dd,useExisting:G_},{provide:ss,useExisting:n}])}function J_(){return Wr(8,[qh,{provide:os,useExisting:qh}])}function Y_(n){let e=[{provide:wd,useValue:O_},{provide:Td,useValue:D({skipNextTransition:!!n?.skipInitialTransition},n)}];return Wr(9,e)}var Hh=new q("ROUTER_FORROOT_GUARD"),X_=[yr,{provide:jr,useClass:Dn},Ge,$r,{provide:Ct,useFactory:bd,deps:[Ge]},Sa,[]],eA=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[X_,[],{provide:Fr,multi:!0,useValue:t},{provide:Hh,useFactory:ny,deps:[[Ge,new re,new Rl]]},{provide:Gr,useValue:r||{}},r?.useHash?ey():ty(),Z_(),r?.preloadingStrategy?Q_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?ry(r):[],r?.bindToComponentInputs?J_().\u0275providers:[],r?.enableViewTransitions?Y_().\u0275providers:[],iy()]}}static forChild(t){return{ngModule:n,providers:[{provide:Fr,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(F(Hh,8))}}static{this.\u0275mod=vn({type:n})}static{this.\u0275inj=yn({})}}return n})();function Z_(){return{provide:Sd,useFactory:()=>{let n=k(lh),e=k(ie),t=k(Gr),r=k(Ca),i=k(jr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new W_(i,r,n,e,t)}}}function ey(){return{provide:_r,useClass:ch}}function ty(){return{provide:_r,useClass:ah}}function ny(n){return"guarded"}function ry(n){return[n.initialNavigation==="disabled"?K_().\u0275providers:[],n.initialNavigation==="enabledBlocking"?H_().\u0275providers:[]]}var Kh=new q("");function iy(){return[{provide:Kh,useFactory:Cd},{provide:mr,multi:!0,useExisting:Kh}]}var ce=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),o,a,l;if(r&&i){if(a=e.length,a!=t.length)return!1;for(o=a;o--!==0;)if(!this.equalsByValue(e[o],t[o]))return!1;return!0}if(r!=i)return!1;var h=this.isDate(e),f=this.isDate(t);if(h!=f)return!1;if(h&&f)return e.getTime()==t.getTime();var A=e instanceof RegExp,R=t instanceof RegExp;if(A!=R)return!1;if(A&&R)return e.toString()==t.toString();var S=Object.keys(e);if(a=S.length,a!==Object.keys(t).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,S[o]))return!1;for(o=a;o--!==0;)if(l=S[o],!this.equalsByValue(e[l],t[l]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let r=t.split("."),i=e;for(let o=0,a=r.length;o<a;++o){if(i==null)return null;i=i[r[o]]}return i}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){let i;e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let o=!1;for(let a=0;a<r.length;a++)if(this.findIndexInList(r[a],i)>t){r.splice(a,0,e),o=!0;break}o||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t){for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}}return r}static contains(e,t){if(e!=null&&t&&t.length){for(let r of t)if(this.equals(e,r))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let o=-1,a=this.isEmpty(e),l=this.isEmpty(t);return a&&l?o=0:a?o=i:l?o=-i:typeof e=="string"&&typeof t=="string"?o=e.localeCompare(t,r,{numeric:!0}):o=e<t?-1:e>t?1:0,o}static sort(e,t,r=1,i,o=1){let a=n.compare(e,t,i,r),l=r;return(n.isEmpty(e)||n.isEmpty(t))&&(l=o===1?r:o),l*a}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return D(D({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),o,a,l;if(r&&i){if(a=e.length,a!=t.length)return!1;for(o=a;o--!==0;)if(!this.deepEquals(e[o],t[o]))return!1;return!0}if(r!=i)return!1;var h=e instanceof Date,f=t instanceof Date;if(h!=f)return!1;if(h&&f)return e.getTime()==t.getTime();var A=e instanceof RegExp,R=t instanceof RegExp;if(A!=R)return!1;if(A&&R)return e.toString()==t.toString();var S=Object.keys(e);if(a=S.length,a!==Object.keys(t).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,S[o]))return!1;for(o=a;o--!==0;)if(l=S[o],!this.deepEquals(e[l],t[l]))return!1;return!0}return e!==e&&t!==t}},Nd=0;function rA(n="pn_id_"){return Nd++,`${n}${Nd}`}function sy(){let n=[],e=(o,a)=>{let l=n.length>0?n[n.length-1]:{key:o,value:a},h=l.value+(l.key===o?0:a)+2;return n.push({key:o,value:h}),h},t=o=>{n=n.filter(a=>a.value!==o)},r=()=>n.length>0?n[n.length-1].value:0,i=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:i,set:(o,a,l)=>{a&&(a.style.zIndex=String(e(o,l)))},clear:o=>{o&&(t(i(o)),o.style.zIndex="")},getCurrent:()=>r()}}var iA=sy();var Od=["*"],oy=function(n){return n[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",n}(oy||{}),mA=(()=>{class n{requireConfirmationSource=new be;acceptConfirmationSource=new be;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(t){return this.requireConfirmationSource.next(t),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var _e=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var gA=(()=>{class n{filter(t,r,i,o,a){let l=[];if(t)for(let h of t)for(let f of r){let A=ce.resolveFieldData(h,f);if(this.filters[o](A,i,a)){l.push(h);break}}return l}filters={startsWith:(t,r,i)=>{if(r==null||r.trim()==="")return!0;if(t==null)return!1;let o=ce.removeAccents(r.toString()).toLocaleLowerCase(i);return ce.removeAccents(t.toString()).toLocaleLowerCase(i).slice(0,o.length)===o},contains:(t,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(t==null)return!1;let o=ce.removeAccents(r.toString()).toLocaleLowerCase(i);return ce.removeAccents(t.toString()).toLocaleLowerCase(i).indexOf(o)!==-1},notContains:(t,r,i)=>{if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(t==null)return!1;let o=ce.removeAccents(r.toString()).toLocaleLowerCase(i);return ce.removeAccents(t.toString()).toLocaleLowerCase(i).indexOf(o)===-1},endsWith:(t,r,i)=>{if(r==null||r.trim()==="")return!0;if(t==null)return!1;let o=ce.removeAccents(r.toString()).toLocaleLowerCase(i),a=ce.removeAccents(t.toString()).toLocaleLowerCase(i);return a.indexOf(o,a.length-o.length)!==-1},equals:(t,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()===r.getTime():t==r?!0:ce.removeAccents(t.toString()).toLocaleLowerCase(i)==ce.removeAccents(r.toString()).toLocaleLowerCase(i),notEquals:(t,r,i)=>r==null||typeof r=="string"&&r.trim()===""?!1:t==null?!0:t.getTime&&r.getTime?t.getTime()!==r.getTime():t==r?!1:ce.removeAccents(t.toString()).toLocaleLowerCase(i)!=ce.removeAccents(r.toString()).toLocaleLowerCase(i),in:(t,r)=>{if(r==null||r.length===0)return!0;for(let i=0;i<r.length;i++)if(ce.equals(t,r[i]))return!0;return!1},between:(t,r)=>r==null||r[0]==null||r[1]==null?!0:t==null?!1:t.getTime?r[0].getTime()<=t.getTime()&&t.getTime()<=r[1].getTime():r[0]<=t&&t<=r[1],lt:(t,r,i)=>r==null?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()<r.getTime():t<r,lte:(t,r,i)=>r==null?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()<=r.getTime():t<=r,gt:(t,r,i)=>r==null?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()>r.getTime():t>r,gte:(t,r,i)=>r==null?!0:t==null?!1:t.getTime&&r.getTime?t.getTime()>=r.getTime():t>=r,is:(t,r,i)=>this.filters.equals(t,r,i),isNot:(t,r,i)=>this.filters.notEquals(t,r,i),before:(t,r,i)=>this.filters.lt(t,r,i),after:(t,r,i)=>this.filters.gt(t,r,i),dateIs:(t,r)=>r==null?!0:t==null?!1:t.toDateString()===r.toDateString(),dateIsNot:(t,r)=>r==null?!0:t==null?!1:t.toDateString()!==r.toDateString(),dateBefore:(t,r)=>r==null?!0:t==null?!1:t.getTime()<r.getTime(),dateAfter:(t,r)=>{if(r==null)return!0;if(t==null)return!1;let i=new Date(t);return i.setHours(0,0,0,0),i.getTime()>r.getTime()}};register(t,r){this.filters[t]=r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _A=(()=>{class n{clickSource=new be;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yA=(()=>{class n{ripple=!1;inputStyle=Po("outlined");overlayOptions={};csp=Po({nonce:void 0});filterMatchModeOptions={text:[_e.STARTS_WITH,_e.CONTAINS,_e.NOT_CONTAINS,_e.ENDS_WITH,_e.EQUALS,_e.NOT_EQUALS],numeric:[_e.EQUALS,_e.NOT_EQUALS,_e.LESS_THAN,_e.LESS_THAN_OR_EQUAL_TO,_e.GREATER_THAN,_e.GREATER_THAN_OR_EQUAL_TO],date:[_e.DATE_IS,_e.DATE_IS_NOT,_e.DATE_BEFORE,_e.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new be;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=D(D({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=dr({type:n,selectors:[["p-header"]],standalone:!0,features:[pr],ngContentSelectors:Od,decls:1,vars:0,template:function(r,i){r&1&&(No(),Oo(0))},encapsulation:2})}return n})(),IA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=dr({type:n,selectors:[["p-footer"]],standalone:!0,features:[pr],ngContentSelectors:Od,decls:1,vars:0,template:function(r,i){r&1&&(No(),Oo(0))},encapsulation:2})}return n})(),EA=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(De(Fl))};static \u0275dir=In({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),wA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=vn({type:n});static \u0275inj=yn({})}return n})(),TA=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var Ld=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ay=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],a=n[t++],l=n[t++],h=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{let o=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],a=i+1<n.length,l=a?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,A=o>>2,R=(o&3)<<4|l>>4,S=(l&15)<<2|f>>6,N=f&63;h||(N=64,a||(S=64)),r.push(t[A],t[R],t[S],t[N])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ld(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ay(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;let f=i<n.length?t[n.charAt(i)]:64;++i;let R=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||l==null||f==null||R==null)throw new Na;let S=o<<2|l>>4;if(r.push(S),f!==64){let N=l<<4&240|f>>2;if(r.push(N),R!==64){let P=f<<6&192|R;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Na=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cy=function(n){let e=Ld(n);return xd.encodeByteArray(e,!0)},Hr=function(n){return cy(n).replace(/\./g,"")},ka=function(n){try{return xd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ly=()=>uy().__FIREBASE_DEFAULTS__,hy=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dy=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ka(n[1]);return e&&JSON.parse(e)},La=()=>{try{return ly()||hy()||dy()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xa=n=>{var e,t;return(t=(e=La())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},us=n=>{let e=xa(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ma=()=>{var n;return(n=La())===null||n===void 0?void 0:n.config},Va=n=>{var e;return(e=La())===null||e===void 0?void 0:e[`_${n}`]};var cs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ls(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hr(JSON.stringify(t)),Hr(JSON.stringify(a)),""].join(".")}function ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Md(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ue())}function Vd(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ud(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Fd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bd(){let n=ue();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ua(){try{return typeof indexedDB=="object"}catch{return!1}}function jd(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var fy="FirebaseError",Ie=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fy,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}},ot=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?py(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ie(i,l,r)}};function py(n,e){return n.replace(my,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var my=/\{\$([^}]+)}/g;function qd(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jt(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],a=e[i];if(kd(o)&&kd(a)){if(!Jt(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function kd(n){return n!==null&&typeof n=="object"}function Kr(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $d(n,e){let t=new Oa(n,e);return t.subscribe.bind(t)}var Oa=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gy(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Da),i.error===void 0&&(i.error=Da),i.complete===void 0&&(i.complete=Da);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gy(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Da(){}var SA=4*60*60*1e3;function We(n){return n&&n._delegate?n._delegate:n}var Ae=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yt="[DEFAULT]";var Fa=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new cs;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yy(e))try{this.getOrInitializeService({instanceIdentifier:Yt})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yt){return this.instances.has(e)}getOptions(e=Yt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_y(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yt){return this.component?this.component.multipleInstances?e:Yt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _y(n){return n===Yt?void 0:n}function yy(n){return n.instantiationMode==="EAGER"}var hs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Fa(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var vy=[],W=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(W||{}),Iy={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Ey=W.INFO,wy={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},Ty=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=wy[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dt=class{constructor(e){this.name=e,this._logLevel=Ey,this._logHandler=Ty,this._userLogHandler=null,vy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Iy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}};var Ay=(n,e)=>e.some(t=>n instanceof t),zd,Gd;function Ry(){return zd||(zd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sy(){return Gd||(Gd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Wd=new WeakMap,ja=new WeakMap,Hd=new WeakMap,Ba=new WeakMap,$a=new WeakMap;function by(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{t(He(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Wd.set(t,n)}).catch(()=>{}),$a.set(e,n),e}function Cy(n){if(ja.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});ja.set(n,e)}var qa={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ja.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Hd.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return He(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Kd(n){qa=n(qa)}function Py(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ds(this),e,...t);return Hd.set(r,e.sort?e.sort():[e]),He(r)}:Sy().includes(n)?function(...e){return n.apply(ds(this),e),He(Wd.get(this))}:function(...e){return He(n.apply(ds(this),e))}}function Dy(n){return typeof n=="function"?Py(n):(n instanceof IDBTransaction&&Cy(n),Ay(n,Ry())?new Proxy(n,qa):n)}function He(n){if(n instanceof IDBRequest)return by(n);if(Ba.has(n))return Ba.get(n);let e=Dy(n);return e!==n&&(Ba.set(n,e),$a.set(e,n)),e}var ds=n=>$a.get(n);function Jd(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(n,e),l=He(a);return r&&a.addEventListener("upgradeneeded",h=>{r(He(a.result),h.oldVersion,h.newVersion,He(a.transaction),h)}),t&&a.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),l.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}var Ny=["get","getKey","getAll","getAllKeys","count"],Oy=["put","add","delete","clear"],za=new Map;function Qd(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(za.get(e))return za.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Oy.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ny.includes(t)))return;let o=function(a,...l){return T(this,null,function*(){let h=this.transaction(a,i?"readwrite":"readonly"),f=h.store;return r&&(f=f.index(l.shift())),(yield Promise.all([f[t](...l),i&&h.done]))[0]})};return za.set(e,o),o}Kd(n=>ae(D({},n),{get:(e,t,r)=>Qd(e,t)||n.get(e,t,r),has:(e,t)=>!!Qd(e,t)||n.has(e,t)}));var Wa=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ky(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function ky(n){let e=n.getComponent();return e?.type==="VERSION"}var Ha="@firebase/app",Yd="0.10.13";var at=new Dt("@firebase/app"),Ly="@firebase/app-compat",xy="@firebase/analytics-compat",My="@firebase/analytics",Vy="@firebase/app-check-compat",Uy="@firebase/app-check",Fy="@firebase/auth",By="@firebase/auth-compat",jy="@firebase/database",qy="@firebase/data-connect",$y="@firebase/database-compat",zy="@firebase/functions",Gy="@firebase/functions-compat",Wy="@firebase/installations",Hy="@firebase/installations-compat",Ky="@firebase/messaging",Qy="@firebase/messaging-compat",Jy="@firebase/performance",Yy="@firebase/performance-compat",Xy="@firebase/remote-config",Zy="@firebase/remote-config-compat",ev="@firebase/storage",tv="@firebase/storage-compat",nv="@firebase/firestore",rv="@firebase/vertexai-preview",iv="@firebase/firestore-compat",sv="firebase",ov="10.14.1";var Ka="[DEFAULT]",av={[Ha]:"fire-core",[Ly]:"fire-core-compat",[My]:"fire-analytics",[xy]:"fire-analytics-compat",[Uy]:"fire-app-check",[Vy]:"fire-app-check-compat",[Fy]:"fire-auth",[By]:"fire-auth-compat",[jy]:"fire-rtdb",[qy]:"fire-data-connect",[$y]:"fire-rtdb-compat",[zy]:"fire-fn",[Gy]:"fire-fn-compat",[Wy]:"fire-iid",[Hy]:"fire-iid-compat",[Ky]:"fire-fcm",[Qy]:"fire-fcm-compat",[Jy]:"fire-perf",[Yy]:"fire-perf-compat",[Xy]:"fire-rc",[Zy]:"fire-rc-compat",[ev]:"fire-gcs",[tv]:"fire-gcs-compat",[nv]:"fire-fst",[iv]:"fire-fst-compat",[rv]:"fire-vertex","fire-js":"fire-js",[sv]:"fire-js-all"};var Qr=new Map,cv=new Map,Qa=new Map;function Xd(n,e){try{n.container.addComponent(e)}catch(t){at.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ke(n){let e=n.name;if(Qa.has(e))return at.debug(`There were multiple attempts to register component ${e}.`),!1;Qa.set(e,n);for(let t of Qr.values())Xd(t,n);for(let t of cv.values())Xd(t,n);return!0}function Xt(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ct(n){return n.settings!==void 0}var uv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nt=new ot("app","Firebase",uv);var Ja=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ae("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nt.create("app-deleted",{appName:this._name})}};var Qe=ov;function Za(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ka,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nt.create("bad-app-name",{appName:String(i)});if(t||(t=Ma()),!t)throw Nt.create("no-options");let o=Qr.get(i);if(o){if(Jt(t,o.options)&&Jt(r,o.config))return o;throw Nt.create("duplicate-app",{appName:i})}let a=new hs(i);for(let h of Qa.values())a.addComponent(h);let l=new Ja(t,r,a);return Qr.set(i,l),l}function Ot(n=Ka){let e=Qr.get(n);if(!e&&n===Ka&&Ma())return Za();if(!e)throw Nt.create("no-app",{appName:n});return e}function fs(){return Array.from(Qr.values())}function Z(n,e,t){var r;let i=(r=av[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),at.warn(l.join(" "));return}Ke(new Ae(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lv="firebase-heartbeat-database",hv=1,Jr="firebase-heartbeat-store",Ga=null;function nf(){return Ga||(Ga=Jd(lv,hv,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jr)}catch(t){console.warn(t)}}}}).catch(n=>{throw Nt.create("idb-open",{originalErrorMessage:n.message})})),Ga}function dv(n){return T(this,null,function*(){try{let t=(yield nf()).transaction(Jr),r=yield t.objectStore(Jr).get(rf(n));return yield t.done,r}catch(e){if(e instanceof Ie)at.warn(e.message);else{let t=Nt.create("idb-get",{originalErrorMessage:e?.message});at.warn(t.message)}}})}function Zd(n,e){return T(this,null,function*(){try{let r=(yield nf()).transaction(Jr,"readwrite");yield r.objectStore(Jr).put(e,rf(n)),yield r.done}catch(t){if(t instanceof Ie)at.warn(t.message);else{let r=Nt.create("idb-set",{originalErrorMessage:t?.message});at.warn(r.message)}}})}function rf(n){return`${n.name}!${n.options.appId}`}var fv=1024,pv=30*24*60*60*1e3,Ya=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Xa(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ef();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let l=new Date(a.date).valueOf();return Date.now()-l<=pv}),this._storage.overwrite(this._heartbeatsCache))}catch(r){at.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ef(),{heartbeatsToSend:r,unsentEntries:i}=mv(this._heartbeatsCache.heartbeats),o=Hr(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return at.warn(t),""}})}};function ef(){return new Date().toISOString().substring(0,10)}function mv(n,e=fv){let t=[],r=n.slice();for(let i of n){let o=t.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),tf(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tf(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Xa=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Ua()?jd().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield dv(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Zd(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Zd(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tf(n){return Hr(JSON.stringify({version:2,heartbeats:n})).length}function gv(n){Ke(new Ae("platform-logger",e=>new Wa(e),"PRIVATE")),Ke(new Ae("heartbeat",e=>new Ya(e),"PRIVATE")),Z(Ha,Yd,n),Z(Ha,Yd,"esm2017"),Z("fire-js","")}gv("");var _v="firebase",yv="10.14.1";Z(_v,yv,"app");var ut=new Ci("ANGULARFIRE2_VERSION");function Mn(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var en=(n,e)=>{let t=e?[e]:fs(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},kt=class{constructor(){return en(vv)}},vv="app-check";function xn(){}var ps=class{zone;delegate;constructor(e,t=ml){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,t,r)}},ec=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xn,{},xn,xn)),t.pipe(ne({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Lt=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ps(Zone.current)),this.insideAngular=t.run(()=>new ps(Zone.current,pl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(F(ie))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ms(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Iv(n){return ms().ngZone.runOutsideAngular(()=>n())}function Zt(n){return ms().ngZone.run(()=>n())}function Ev(n){return wv(ms())(n)}function wv(n){return function(t){return t=t.lift(new ec(n.ngZone)),t.pipe(_o(n.outsideAngular),go(n.insideAngular))}}var Tv=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zt(()=>n.apply(void 0,r))},xt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Zt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xn,{},xn,xn))),r[o]=Tv(r[o],t));let i=Iv(()=>n.apply(this,r));if(!e)if(i instanceof pn){let o=ms();return i.pipe(_o(o.outsideAngular),go(o.insideAngular))}else return Zt(()=>i);return i instanceof pn?i.pipe(Ev):i instanceof Promise?Zt(()=>new Promise((o,a)=>i.then(l=>Zt(()=>o(l)),l=>Zt(()=>a(l))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Zt(()=>i)};var Be=class{constructor(e){return e}},lt=class{constructor(){return fs()}};function Av(n){return n&&n.length===1?n[0]:new Be(Ot())}var tc=new q("angularfire2._apps"),Rv={provide:Be,useFactory:Av,deps:[[new re,tc]]},Sv={provide:lt,deps:[[new re,tc]]};function bv(n){return(e,t)=>{let r=t.get(qe);Z("angularfire",ut.full,"core"),Z("angularfire",ut.full,"app"),Z("angular",Xl.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Be(i)}}function dR(n,...e){return we([Rv,Sv,{provide:tc,useFactory:bv(n),multi:!0,deps:[ie,Ve,Lt,...e]}])}var fR=xt(Za,!0);function vf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var If=vf,Ef=new ot("auth","Firebase",vf());var Es=new Dt("@firebase/auth");function Cv(n,...e){Es.logLevel<=W.WARN&&Es.warn(`Auth (${Qe}): ${n}`,...e)}function _s(n,...e){Es.logLevel<=W.ERROR&&Es.error(`Auth (${Qe}): ${n}`,...e)}function Vt(n,...e){throw Ec(n,...e)}function nn(n,...e){return Ec(n,...e)}function wf(n,e,t){let r=Object.assign(Object.assign({},If()),{[e]:t});return new ot("auth","Firebase",r).create(e,{appName:n.name})}function tn(n){return wf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ec(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ef.create(n,...e)}function M(n,e,...t){if(!n)throw Ec(e,...t)}function ht(n){let e="INTERNAL ASSERTION FAILED: "+n;throw _s(e),new Error(e)}function Ut(n,e){n||ht(e)}function sc(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Pv(){return sf()==="http:"||sf()==="https:"}function sf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Dv(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pv()||Ud()||"connection"in navigator)?navigator.onLine:!0}function Nv(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var rn=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ut(t>e,"Short delay should be less than long delay!"),this.isMobile=Md()||Fd()}get(){return Dv()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wc(n,e){Ut(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ws=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ov={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var kv=new rn(3e4,6e4);function Tc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Un(o,a,l,h){return T(this,arguments,function*(n,e,t,r,i={}){return Tf(n,i,()=>T(this,null,function*(){let f={},A={};r&&(e==="GET"?A=r:f={body:JSON.stringify(r)});let R=Kr(Object.assign({key:n.config.apiKey},A)).slice(1),S=yield n._getAdditionalHeaders();S["Content-Type"]="application/json",n.languageCode&&(S["X-Firebase-Locale"]=n.languageCode);let N=Object.assign({method:e,headers:S},f);return Vd()||(N.referrerPolicy="no-referrer"),ws.fetch()(Af(n,n.config.apiHost,t,R),N)}))})}function Tf(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Ov),e);try{let i=new oc(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw gs(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[h,f]=l.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw gs(n,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw gs(n,"email-already-in-use",a);if(h==="USER_DISABLED")throw gs(n,"user-disabled",a);let A=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw wf(n,A,f);Vt(n,A)}}catch(i){if(i instanceof Ie)throw i;Vt(n,"network-request-failed",{message:String(i)})}})}function Lv(o,a,l,h){return T(this,arguments,function*(n,e,t,r,i={}){let f=yield Un(n,e,t,r,i);return"mfaPendingCredential"in f&&Vt(n,"multi-factor-auth-required",{_serverResponse:f}),f})}function Af(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?wc(n.config,i):`${n.config.apiScheme}://${i}`}var oc=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(nn(this.auth,"network-request-failed")),kv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gs(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=nn(n,e,r);return i.customData._tokenResponse=t,i}function xv(n,e){return T(this,null,function*(){return Un(n,"POST","/v1/accounts:delete",e)})}function Rf(n,e){return T(this,null,function*(){return Un(n,"POST","/v1/accounts:lookup",e)})}function Yr(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ac(n,e=!1){return T(this,null,function*(){let t=We(n),r=yield t.getIdToken(e),i=Rc(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Yr(nc(i.auth_time)),issuedAtTime:Yr(nc(i.iat)),expirationTime:Yr(nc(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function nc(n){return Number(n)*1e3}function Rc(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _s("JWT malformed, contained fewer than 3 sections"),null;try{let i=ka(t);return i?JSON.parse(i):(_s("Failed to decode base64 JWT payload"),null)}catch(i){return _s("Caught error parsing JWT payload as JSON",i?.toString()),null}}function of(n){let e=Rc(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zr(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ie&&Mv(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Mv({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ac=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ei=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yr(this.lastLoginAt),this.creationTime=Yr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ts(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Zr(n,Rf(t,{idToken:r}));M(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Sf(o.providerUserInfo):[],l=Vv(n.providerData,a),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!l?.length,A=h?f:!1,R={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ei(o.createdAt,o.lastLoginAt),isAnonymous:A};Object.assign(n,R)})}function Sc(n){return T(this,null,function*(){let e=We(n);yield Ts(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Vv(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Sf(n){return n.map(e=>{var{providerId:t}=e,r=mo(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Uv(n,e){return T(this,null,function*(){let t=yield Tf(n,{},()=>T(this,null,function*(){let r=Kr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,a=Af(n,i,"/v1/token",`key=${o}`),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ws.fetch()(a,{method:"POST",headers:l,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Fv(n,e){return T(this,null,function*(){return Un(n,"POST","/v2/accounts:revokeToken",Tc(n,e))})}var Xr=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):of(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){M(e.length!==0,"internal-error");let t=of(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(M(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Uv(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,a=new n;return r&&(M(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(M(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(M(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ht("not implemented")}};function Mt(n,e){M(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Vn=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=mo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ac(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ei(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield Zr(this,this.stsTokenManager.getToken(this.auth,e));return M(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Ac(this,e)}reload(){return Sc(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ts(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(ct(this.auth.app))return Promise.reject(tn(this.auth));let e=yield this.getIdToken();return yield Zr(this,xv(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,a,l,h,f,A;let R=(r=t.displayName)!==null&&r!==void 0?r:void 0,S=(i=t.email)!==null&&i!==void 0?i:void 0,N=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,P=(a=t.photoURL)!==null&&a!==void 0?a:void 0,O=(l=t.tenantId)!==null&&l!==void 0?l:void 0,C=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,z=(f=t.createdAt)!==null&&f!==void 0?f:void 0,Q=(A=t.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:x,emailVerified:j,isAnonymous:ee,providerData:Y,stsTokenManager:y}=t;M(x&&y,e,"internal-error");let p=Xr.fromJSON(this.name,y);M(typeof x=="string",e,"internal-error"),Mt(R,e.name),Mt(S,e.name),M(typeof j=="boolean",e,"internal-error"),M(typeof ee=="boolean",e,"internal-error"),Mt(N,e.name),Mt(P,e.name),Mt(O,e.name),Mt(C,e.name),Mt(z,e.name),Mt(Q,e.name);let g=new n({uid:x,auth:e,email:S,emailVerified:j,displayName:R,isAnonymous:ee,photoURL:P,phoneNumber:N,tenantId:O,stsTokenManager:p,createdAt:z,lastLoginAt:Q});return Y&&Array.isArray(Y)&&(g.providerData=Y.map(_=>Object.assign({},_))),C&&(g._redirectEventId=C),g}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let i=new Xr;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ts(o),o})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let i=t.users[0];M(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Sf(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,l=new Xr;l.updateFromIdToken(r);let h=new n({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ei(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,f),h})}};var af=new Map;function dt(n){Ut(n instanceof Function,"Expected a class definition");let e=af.get(n);return e?(Ut(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,af.set(n,e),e)}var Bv=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),cc=Bv;function ys(n,e,t){return`firebase:${n}:${e}:${t}`}var As=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ys(this.userKey,i.apiKey,o),this.fullPersistenceKey=ys("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Vn._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(dt(cc),e,r);let i=(yield Promise.all(t.map(f=>T(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=i[0]||dt(cc),a=ys(r,e.config.apiKey,e.name),l=null;for(let f of t)try{let A=yield f._get(a);if(A){let R=Vn._fromJSON(e,A);f!==o&&(l=R),o=f;break}}catch{}let h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new n(o,e,r):(o=h[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(t.map(f=>T(this,null,function*(){if(f!==o)try{yield f._remove(a)}catch{}}))),new n(o,e,r))})}};function cf(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Df(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bf(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Of(e))return"Blackberry";if(kf(e))return"Webos";if(Cf(e))return"Safari";if((e.includes("chrome/")||Pf(e))&&!e.includes("edge/"))return"Chrome";if(Nf(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function bf(n=ue()){return/firefox\//i.test(n)}function Cf(n=ue()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pf(n=ue()){return/crios\//i.test(n)}function Df(n=ue()){return/iemobile/i.test(n)}function Nf(n=ue()){return/android/i.test(n)}function Of(n=ue()){return/blackberry/i.test(n)}function kf(n=ue()){return/webos/i.test(n)}function bc(n=ue()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jv(n=ue()){var e;return bc(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qv(){return Bd()&&document.documentMode===10}function Lf(n=ue()){return bc(n)||Nf(n)||kf(n)||Of(n)||/windows phone/i.test(n)||Df(n)}function xf(n,e=[]){let t;switch(n){case"Browser":t=cf(ue());break;case"Worker":t=`${cf(ue())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qe}/${r}`}var uc=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((a,l)=>{try{let h=e(o);a(h)}catch(h){l(h)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function $v(t){return T(this,arguments,function*(n,e={}){return Un(n,"GET","/v2/passwordPolicy",Tc(n,e))})}var zv=6,lc=class{constructor(e){var t,r,i,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:zv,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,a,l;let h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),h}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var hc=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rs(this),this.idTokenSubscription=new Rs(this),this.beforeStateQueue=new uc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ef,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dt(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield As.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield Rf(this,{idToken:e}),r=yield Vn._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(ct(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i?._redirectEventId,h=yield this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Ts(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Nv()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(ct(this.app))return Promise.reject(tn(this));let t=e?We(e):null;return t&&M(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return ct(this.app)?Promise.reject(tn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ct(this.app)?Promise.reject(tn(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(dt(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield $v(this),t=new lc(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ot("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Fv(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&dt(e)||this._popupRedirectResolver;M(t,this,"argument-error"),this.redirectPersistenceManager=yield As.create(this,[dt(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof t=="function"){let h=e.addObserver(t,r,i);return()=>{a=!0,h()}}else{let h=e.addObserver(t);return()=>{a=!0,h()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return T(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Cv(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Cc(n){return We(n)}var Rs=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=$d(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Pc={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gv(n){Pc=n}function Wv(n){return Pc.loadJS(n)}function Hv(){return Pc.gapiScript}function Mf(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Dc(n,e){let t=Xt(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Jt(o,e??{}))return i;Vt(i,"already-initialized")}return t.initialize({options:e})}function Kv(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(dt);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Nc(n,e,t){let r=Cc(n);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Vf(e),{host:a,port:l}=Qv(e),h=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${a}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Jv()}function Vf(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Qv(n){let e=Vf(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:uf(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:uf(a)}}}function uf(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Jv(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ss=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ht("not implemented")}_getIdTokenResponse(e){return ht("not implemented")}_linkToIdToken(e,t){return ht("not implemented")}_getReauthenticationResolver(e){return ht("not implemented")}};function rc(n,e){return T(this,null,function*(){return Lv(n,"POST","/v1/accounts:signInWithIdp",Tc(n,e))})}var bs=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var dc=class extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ti=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return T(this,null,function*(){let o=yield Vn._fromIdTokenResponse(e,r,i),a=lf(r);return new n({user:o,providerId:a,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=lf(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function lf(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var fc=class n extends Ie{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Uf(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fc._fromErrorAndOperation(n,o,e,r):o})}function Yv(n,e,t=!1){return T(this,null,function*(){let r=yield Zr(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ti._forOperation(n,"link",r)})}function Xv(n,e,t=!1){return T(this,null,function*(){let{auth:r}=n;if(ct(r.app))return Promise.reject(tn(r));let i="reauthenticate";try{let o=yield Zr(n,Uf(r,i,e,n),t);M(o.idToken,r,"internal-error");let a=Rc(o.idToken);M(a,r,"internal-error");let{sub:l}=a;return M(n.uid===l,r,"user-mismatch"),ti._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Vt(r,"user-mismatch"),o}})}function Zv(n,e,t=!1){return T(this,null,function*(){if(ct(n.app))return Promise.reject(tn(n));let r="signIn",i=yield Uf(n,r,e),o=yield ti._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Oc(n,e,t,r){return We(n).onIdTokenChanged(e,t,r)}function kc(n,e,t){return We(n).beforeAuthStateChanged(e,t)}var Cs="__sak";var Ps=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var eI=1e3,tI=10,nI=(()=>{class n extends Ps{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lf(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let l=this.storage.getItem(i);!r&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);qv()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,tI):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},eI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return T(this,null,function*(){yield It(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return T(this,null,function*(){let r=yield It(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return T(this,null,function*(){yield It(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Ff=nI;var rI=(()=>{class n extends Ps{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Lc=rI;function iI(n){return Promise.all(n.map(e=>T(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var sI=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return T(this,null,function*(){let r=t,{eventId:i,eventType:o,data:a}=r.data,l=this.handlersMap[o];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let h=Array.from(l).map(A=>T(this,null,function*(){return A(r.origin,a)})),f=yield iI(h);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Bf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var pc=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((l,h)=>{let f=Bf("",20);i.port1.start();let A=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(R){let S=R;if(S.data.eventId===f)switch(S.data.status){case"ack":clearTimeout(A),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(S.data.response);break;default:clearTimeout(A),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Je(){return window}function oI(n){Je().location.href=n}function jf(){return typeof Je().WorkerGlobalScope<"u"&&typeof Je().importScripts=="function"}function aI(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function cI(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function uI(){return jf()?self:null}var qf="firebaseLocalStorageDb",lI=1,Ds="firebaseLocalStorage",$f="fbase_key",sn=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Os(n,e){return n.transaction([Ds],e?"readwrite":"readonly").objectStore(Ds)}function hI(){let n=indexedDB.deleteDatabase(qf);return new sn(n).toPromise()}function mc(){let n=indexedDB.open(qf,lI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ds,{keyPath:$f})}catch(i){t(i)}}),n.addEventListener("success",()=>T(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ds)?e(r):(r.close(),yield hI(),e(yield mc()))}))})}function hf(n,e,t){return T(this,null,function*(){let r=Os(n,!0).put({[$f]:e,value:t});return new sn(r).toPromise()})}function dI(n,e){return T(this,null,function*(){let t=Os(n,!1).get(e),r=yield new sn(t).toPromise();return r===void 0?null:r.value})}function df(n,e){let t=Os(n,!0).delete(e);return new sn(t).toPromise()}var fI=800,pI=3,mI=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield mc(),this.db)})}_withRetries(t){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>pI)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return jf()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=sI._getInstance(uI()),this.receiver._subscribe("keyChanged",(t,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var t,r;if(this.activeServiceWorker=yield aI(),!this.activeServiceWorker)return;this.sender=new pc(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||cI()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let t=yield mc();return yield hf(t,Cs,"1"),yield df(t,Cs),!0}catch{}return!1})}_withPendingWrite(t){return T(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>hf(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return T(this,null,function*(){let r=yield this._withRetries(i=>dI(i,t));return this.localCache[t]=r,r})}_remove(t){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>df(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return T(this,null,function*(){let t=yield this._withRetries(o=>{let a=Os(o,!1).getAll();return new sn(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:a}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),zf=mI;var TR=Mf("rcb"),AR=new rn(3e4,6e4);function gI(n,e){return e?dt(e):(M(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ni=class extends Ss{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function _I(n){return Zv(n.auth,new ni(n),n.bypassAuthState)}function yI(n){let{auth:e,user:t}=n;return M(t,e,"internal-error"),Xv(t,new ni(n),n.bypassAuthState)}function vI(n){return T(this,null,function*(){let{auth:e,user:t}=n;return M(t,e,"internal-error"),Yv(t,new ni(n),n.bypassAuthState)})}var gc=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(h))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _I;case"linkViaPopup":case"linkViaRedirect":return vI;case"reauthViaPopup":case"reauthViaRedirect":return yI;default:Vt(this.auth,"internal-error")}}resolve(e){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var RR=new rn(2e3,1e4);var II="pendingRedirect",vs=new Map,_c=class n extends gc{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=vs.get(this.auth._key());if(!e){try{let r=(yield EI(this.resolver,this.auth))?yield It(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vs.set(this.auth._key(),e)}return this.bypassAuthState||vs.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return It(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,It(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function EI(n,e){return T(this,null,function*(){let t=AI(e),r=TI(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function wI(n,e){vs.set(n._key(),e)}function TI(n){return dt(n._redirectPersistence)}function AI(n){return ys(II,n.config.apiKey,n.name)}function RI(n,e,t=!1){return T(this,null,function*(){if(ct(n.app))return Promise.reject(tn(n));let r=Cc(n),i=gI(r,e),a=yield new _c(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var SI=10*60*1e3,yc=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Gf(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(nn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SI&&this.cachedEventUids.clear(),this.cachedEventUids.has(ff(e))}saveEventToCache(e){this.cachedEventUids.add(ff(e)),this.lastProcessedEventTime=Date.now()}};function ff(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Gf({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function bI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gf(n);default:return!1}}function CI(t){return T(this,arguments,function*(n,e={}){return Un(n,"GET","/v1/projects",e)})}var PI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DI=/^https?/;function NI(n){return T(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield CI(n);for(let t of e)try{if(OI(t))return}catch{}Vt(n,"unauthorized-domain")})}function OI(n){let e=sc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!DI.test(t))return!1;if(PI.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var kI=new rn(3e4,6e4);function pf(){let n=Je().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LI(n){return new Promise((e,t)=>{var r,i,o;function a(){pf(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pf(),t(nn(n,"network-request-failed"))},timeout:kI.get()})}if(!((i=(r=Je().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Je().gapi)===null||o===void 0)&&o.load)a();else{let l=Mf("iframefcb");return Je()[l]=()=>{gapi.load?a():t(nn(n,"network-request-failed"))},Wv(`${Hv()}?onload=${l}`).catch(h=>t(h))}}).catch(e=>{throw Is=null,e})}var Is=null;function xI(n){return Is=Is||LI(n),Is}var MI=new rn(5e3,15e3),VI="__/auth/iframe",UI="emulator/auth/iframe",FI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jI(n){let e=n.config;M(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?wc(e,UI):`https://${n.config.authDomain}/${VI}`,r={apiKey:e.apiKey,appName:n.name,v:Qe},i=BI.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Kr(r).slice(1)}`}function qI(n){return T(this,null,function*(){let e=yield xI(n),t=Je().gapi;return M(t,n,"internal-error"),e.open({where:document.body,url:jI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FI,dontclear:!0},r=>new Promise((i,o)=>T(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=nn(n,"network-request-failed"),l=Je().setTimeout(()=>{o(a)},MI.get());function h(){Je().clearTimeout(l),i(r)}r.ping(h).then(h,()=>{o(a)})})))})}var $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zI=500,GI=600,WI="_blank",HI="http://localhost",Ns=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function KI(n,e,t,r=zI,i=GI){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",h=Object.assign(Object.assign({},$I),{width:r.toString(),height:i.toString(),top:o,left:a}),f=ue().toLowerCase();t&&(l=Pf(f)?WI:t),bf(f)&&(e=e||HI,h.scrollbars="yes");let A=Object.entries(h).reduce((S,[N,P])=>`${S}${N}=${P},`,"");if(jv(f)&&l!=="_self")return QI(e||"",l),new Ns(null);let R=window.open(e||"",l,A);M(R,n,"popup-blocked");try{R.focus()}catch{}return new Ns(R)}function QI(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var JI="__/auth/handler",YI="emulator/auth/handler",XI=encodeURIComponent("fac");function mf(n,e,t,r,i,o){return T(this,null,function*(){M(n.config.authDomain,n,"auth-domain-config-required"),M(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Qe,eventId:i};if(e instanceof bs){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",qd(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[A,R]of Object.entries(o||{}))a[A]=R}if(e instanceof dc){let A=e.getScopes().filter(R=>R!=="");A.length>0&&(a.scopes=A.join(","))}n.tenantId&&(a.tid=n.tenantId);let l=a;for(let A of Object.keys(l))l[A]===void 0&&delete l[A];let h=yield n._getAppCheckToken(),f=h?`#${XI}=${encodeURIComponent(h)}`:"";return`${ZI(n)}?${Kr(l).slice(1)}${f}`})}function ZI({config:n}){return n.emulator?wc(n,YI):`https://${n.authDomain}/${JI}`}var ic="webStorageSupport",vc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lc,this._completeRedirectFn=RI,this._overrideRedirectResult=wI}_openPopup(e,t,r,i){return T(this,null,function*(){var o;Ut((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield mf(e,t,r,sc(),i);return KI(e,a,Bf())})}_openRedirect(e,t,r,i){return T(this,null,function*(){yield this._originValidation(e);let o=yield mf(e,t,r,sc(),i);return oI(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ut(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return T(this,null,function*(){let t=yield qI(e),r=new yc(e);return t.register("authEvent",i=>(M(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ic,{type:ic},i=>{var o;let a=(o=i?.[0])===null||o===void 0?void 0:o[ic];a!==void 0&&t(!!a),Vt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Lf()||Cf()||bc()}},Wf=vc;var gf="@firebase/auth",_f="1.7.9";var Ic=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eE(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tE(n){Ke(new Ae("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;M(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let h={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xf(n)},f=new hc(r,i,o,h);return Kv(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ke(new Ae("auth-internal",e=>{let t=Cc(e.getProvider("auth").getImmediate());return(r=>new Ic(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Z(gf,_f,eE(n)),Z(gf,_f,"esm2017")}var nE=5*60,rE=Va("authIdTokenMaxAge")||nE,yf=null,iE=n=>e=>T(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rE)return;let i=t?.token;yf!==i&&(yf=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function xc(n=Ot()){let e=Xt(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Dc(n,{popupRedirectResolver:Wf,persistence:[zf,Ff,Lc]}),r=Va("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=iE(o.toString());kc(t,a,()=>a(t.currentUser)),Oc(t,l=>a(l))}}let i=xa("auth");return i&&Nc(t,`http://${i}`),t}function sE(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Gv({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=nn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",sE().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tE("Browser");var Hf="auth",ri=class{constructor(e){return e}},on=class{constructor(){return en(Hf)}};var Mc=new q("angularfire2.auth-instances");function ZE(n,e){let t=Mn(Hf,n,e);return t&&new ri(t)}function ew(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ri(r)}}var tw={provide:on,deps:[[new re,Mc]]},nw={provide:ri,useFactory:ZE,deps:[[new re,Mc],Be]};function hS(n,...e){return Z("angularfire",ut.full,"auth"),we([nw,tw,{provide:Mc,useFactory:ew(n),multi:!0,deps:[ie,Ve,Lt,lt,[new re,kt],...e]}])}var dS=xt(xc,!0);var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qf={};var Vc,Jf;(function(){var n;function e(y,p){function g(){}g.prototype=p.prototype,y.D=p.prototype,y.prototype=new g,y.prototype.constructor=y,y.C=function(_,v,E){for(var m=Array(arguments.length-2),et=2;et<arguments.length;et++)m[et-2]=arguments[et];return p.prototype[v].apply(_,m)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,p,g){g||(g=0);var _=Array(16);if(typeof p=="string")for(var v=0;16>v;++v)_[v]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(v=0;16>v;++v)_[v]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=y.g[0],g=y.g[1],v=y.g[2];var E=y.g[3],m=p+(E^g&(v^E))+_[0]+3614090360&4294967295;p=g+(m<<7&4294967295|m>>>25),m=E+(v^p&(g^v))+_[1]+3905402710&4294967295,E=p+(m<<12&4294967295|m>>>20),m=v+(g^E&(p^g))+_[2]+606105819&4294967295,v=E+(m<<17&4294967295|m>>>15),m=g+(p^v&(E^p))+_[3]+3250441966&4294967295,g=v+(m<<22&4294967295|m>>>10),m=p+(E^g&(v^E))+_[4]+4118548399&4294967295,p=g+(m<<7&4294967295|m>>>25),m=E+(v^p&(g^v))+_[5]+1200080426&4294967295,E=p+(m<<12&4294967295|m>>>20),m=v+(g^E&(p^g))+_[6]+2821735955&4294967295,v=E+(m<<17&4294967295|m>>>15),m=g+(p^v&(E^p))+_[7]+4249261313&4294967295,g=v+(m<<22&4294967295|m>>>10),m=p+(E^g&(v^E))+_[8]+1770035416&4294967295,p=g+(m<<7&4294967295|m>>>25),m=E+(v^p&(g^v))+_[9]+2336552879&4294967295,E=p+(m<<12&4294967295|m>>>20),m=v+(g^E&(p^g))+_[10]+4294925233&4294967295,v=E+(m<<17&4294967295|m>>>15),m=g+(p^v&(E^p))+_[11]+2304563134&4294967295,g=v+(m<<22&4294967295|m>>>10),m=p+(E^g&(v^E))+_[12]+1804603682&4294967295,p=g+(m<<7&4294967295|m>>>25),m=E+(v^p&(g^v))+_[13]+4254626195&4294967295,E=p+(m<<12&4294967295|m>>>20),m=v+(g^E&(p^g))+_[14]+2792965006&4294967295,v=E+(m<<17&4294967295|m>>>15),m=g+(p^v&(E^p))+_[15]+1236535329&4294967295,g=v+(m<<22&4294967295|m>>>10),m=p+(v^E&(g^v))+_[1]+4129170786&4294967295,p=g+(m<<5&4294967295|m>>>27),m=E+(g^v&(p^g))+_[6]+3225465664&4294967295,E=p+(m<<9&4294967295|m>>>23),m=v+(p^g&(E^p))+_[11]+643717713&4294967295,v=E+(m<<14&4294967295|m>>>18),m=g+(E^p&(v^E))+_[0]+3921069994&4294967295,g=v+(m<<20&4294967295|m>>>12),m=p+(v^E&(g^v))+_[5]+3593408605&4294967295,p=g+(m<<5&4294967295|m>>>27),m=E+(g^v&(p^g))+_[10]+38016083&4294967295,E=p+(m<<9&4294967295|m>>>23),m=v+(p^g&(E^p))+_[15]+3634488961&4294967295,v=E+(m<<14&4294967295|m>>>18),m=g+(E^p&(v^E))+_[4]+3889429448&4294967295,g=v+(m<<20&4294967295|m>>>12),m=p+(v^E&(g^v))+_[9]+568446438&4294967295,p=g+(m<<5&4294967295|m>>>27),m=E+(g^v&(p^g))+_[14]+3275163606&4294967295,E=p+(m<<9&4294967295|m>>>23),m=v+(p^g&(E^p))+_[3]+4107603335&4294967295,v=E+(m<<14&4294967295|m>>>18),m=g+(E^p&(v^E))+_[8]+1163531501&4294967295,g=v+(m<<20&4294967295|m>>>12),m=p+(v^E&(g^v))+_[13]+2850285829&4294967295,p=g+(m<<5&4294967295|m>>>27),m=E+(g^v&(p^g))+_[2]+4243563512&4294967295,E=p+(m<<9&4294967295|m>>>23),m=v+(p^g&(E^p))+_[7]+1735328473&4294967295,v=E+(m<<14&4294967295|m>>>18),m=g+(E^p&(v^E))+_[12]+2368359562&4294967295,g=v+(m<<20&4294967295|m>>>12),m=p+(g^v^E)+_[5]+4294588738&4294967295,p=g+(m<<4&4294967295|m>>>28),m=E+(p^g^v)+_[8]+2272392833&4294967295,E=p+(m<<11&4294967295|m>>>21),m=v+(E^p^g)+_[11]+1839030562&4294967295,v=E+(m<<16&4294967295|m>>>16),m=g+(v^E^p)+_[14]+4259657740&4294967295,g=v+(m<<23&4294967295|m>>>9),m=p+(g^v^E)+_[1]+2763975236&4294967295,p=g+(m<<4&4294967295|m>>>28),m=E+(p^g^v)+_[4]+1272893353&4294967295,E=p+(m<<11&4294967295|m>>>21),m=v+(E^p^g)+_[7]+4139469664&4294967295,v=E+(m<<16&4294967295|m>>>16),m=g+(v^E^p)+_[10]+3200236656&4294967295,g=v+(m<<23&4294967295|m>>>9),m=p+(g^v^E)+_[13]+681279174&4294967295,p=g+(m<<4&4294967295|m>>>28),m=E+(p^g^v)+_[0]+3936430074&4294967295,E=p+(m<<11&4294967295|m>>>21),m=v+(E^p^g)+_[3]+3572445317&4294967295,v=E+(m<<16&4294967295|m>>>16),m=g+(v^E^p)+_[6]+76029189&4294967295,g=v+(m<<23&4294967295|m>>>9),m=p+(g^v^E)+_[9]+3654602809&4294967295,p=g+(m<<4&4294967295|m>>>28),m=E+(p^g^v)+_[12]+3873151461&4294967295,E=p+(m<<11&4294967295|m>>>21),m=v+(E^p^g)+_[15]+530742520&4294967295,v=E+(m<<16&4294967295|m>>>16),m=g+(v^E^p)+_[2]+3299628645&4294967295,g=v+(m<<23&4294967295|m>>>9),m=p+(v^(g|~E))+_[0]+4096336452&4294967295,p=g+(m<<6&4294967295|m>>>26),m=E+(g^(p|~v))+_[7]+1126891415&4294967295,E=p+(m<<10&4294967295|m>>>22),m=v+(p^(E|~g))+_[14]+2878612391&4294967295,v=E+(m<<15&4294967295|m>>>17),m=g+(E^(v|~p))+_[5]+4237533241&4294967295,g=v+(m<<21&4294967295|m>>>11),m=p+(v^(g|~E))+_[12]+1700485571&4294967295,p=g+(m<<6&4294967295|m>>>26),m=E+(g^(p|~v))+_[3]+2399980690&4294967295,E=p+(m<<10&4294967295|m>>>22),m=v+(p^(E|~g))+_[10]+4293915773&4294967295,v=E+(m<<15&4294967295|m>>>17),m=g+(E^(v|~p))+_[1]+2240044497&4294967295,g=v+(m<<21&4294967295|m>>>11),m=p+(v^(g|~E))+_[8]+1873313359&4294967295,p=g+(m<<6&4294967295|m>>>26),m=E+(g^(p|~v))+_[15]+4264355552&4294967295,E=p+(m<<10&4294967295|m>>>22),m=v+(p^(E|~g))+_[6]+2734768916&4294967295,v=E+(m<<15&4294967295|m>>>17),m=g+(E^(v|~p))+_[13]+1309151649&4294967295,g=v+(m<<21&4294967295|m>>>11),m=p+(v^(g|~E))+_[4]+4149444226&4294967295,p=g+(m<<6&4294967295|m>>>26),m=E+(g^(p|~v))+_[11]+3174756917&4294967295,E=p+(m<<10&4294967295|m>>>22),m=v+(p^(E|~g))+_[2]+718787259&4294967295,v=E+(m<<15&4294967295|m>>>17),m=g+(E^(v|~p))+_[9]+3951481745&4294967295,y.g[0]=y.g[0]+p&4294967295,y.g[1]=y.g[1]+(v+(m<<21&4294967295|m>>>11))&4294967295,y.g[2]=y.g[2]+v&4294967295,y.g[3]=y.g[3]+E&4294967295}r.prototype.u=function(y,p){p===void 0&&(p=y.length);for(var g=p-this.blockSize,_=this.B,v=this.h,E=0;E<p;){if(v==0)for(;E<=g;)i(this,y,E),E+=this.blockSize;if(typeof y=="string"){for(;E<p;)if(_[v++]=y.charCodeAt(E++),v==this.blockSize){i(this,_),v=0;break}}else for(;E<p;)if(_[v++]=y[E++],v==this.blockSize){i(this,_),v=0;break}}this.h=v,this.o+=p},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var p=1;p<y.length-8;++p)y[p]=0;var g=8*this.o;for(p=y.length-8;p<y.length;++p)y[p]=g&255,g/=256;for(this.u(y),y=Array(16),p=g=0;4>p;++p)for(var _=0;32>_;_+=8)y[g++]=this.g[p]>>>_&255;return y};function o(y,p){var g=l;return Object.prototype.hasOwnProperty.call(g,y)?g[y]:g[y]=p(y)}function a(y,p){this.h=p;for(var g=[],_=!0,v=y.length-1;0<=v;v--){var E=y[v]|0;_&&E==p||(g[v]=E,_=!1)}this.g=g}var l={};function h(y){return-128<=y&&128>y?o(y,function(p){return new a([p|0],0>p?-1:0)}):new a([y|0],0>y?-1:0)}function f(y){if(isNaN(y)||!isFinite(y))return R;if(0>y)return C(f(-y));for(var p=[],g=1,_=0;y>=g;_++)p[_]=y/g|0,g*=4294967296;return new a(p,0)}function A(y,p){if(y.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(y.charAt(0)=="-")return C(A(y.substring(1),p));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=f(Math.pow(p,8)),_=R,v=0;v<y.length;v+=8){var E=Math.min(8,y.length-v),m=parseInt(y.substring(v,v+E),p);8>E?(E=f(Math.pow(p,E)),_=_.j(E).add(f(m))):(_=_.j(g),_=_.add(f(m)))}return _}var R=h(0),S=h(1),N=h(16777216);n=a.prototype,n.m=function(){if(O(this))return-C(this).m();for(var y=0,p=1,g=0;g<this.g.length;g++){var _=this.i(g);y+=(0<=_?_:4294967296+_)*p,p*=4294967296}return y},n.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(P(this))return"0";if(O(this))return"-"+C(this).toString(y);for(var p=f(Math.pow(y,6)),g=this,_="";;){var v=j(g,p).g;g=z(g,v.j(p));var E=((0<g.g.length?g.g[0]:g.h)>>>0).toString(y);if(g=v,P(g))return E+_;for(;6>E.length;)E="0"+E;_=E+_}},n.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function P(y){if(y.h!=0)return!1;for(var p=0;p<y.g.length;p++)if(y.g[p]!=0)return!1;return!0}function O(y){return y.h==-1}n.l=function(y){return y=z(this,y),O(y)?-1:P(y)?0:1};function C(y){for(var p=y.g.length,g=[],_=0;_<p;_++)g[_]=~y.g[_];return new a(g,~y.h).add(S)}n.abs=function(){return O(this)?C(this):this},n.add=function(y){for(var p=Math.max(this.g.length,y.g.length),g=[],_=0,v=0;v<=p;v++){var E=_+(this.i(v)&65535)+(y.i(v)&65535),m=(E>>>16)+(this.i(v)>>>16)+(y.i(v)>>>16);_=m>>>16,E&=65535,m&=65535,g[v]=m<<16|E}return new a(g,g[g.length-1]&-2147483648?-1:0)};function z(y,p){return y.add(C(p))}n.j=function(y){if(P(this)||P(y))return R;if(O(this))return O(y)?C(this).j(C(y)):C(C(this).j(y));if(O(y))return C(this.j(C(y)));if(0>this.l(N)&&0>y.l(N))return f(this.m()*y.m());for(var p=this.g.length+y.g.length,g=[],_=0;_<2*p;_++)g[_]=0;for(_=0;_<this.g.length;_++)for(var v=0;v<y.g.length;v++){var E=this.i(_)>>>16,m=this.i(_)&65535,et=y.i(v)>>>16,zn=y.i(v)&65535;g[2*_+2*v]+=m*zn,Q(g,2*_+2*v),g[2*_+2*v+1]+=E*zn,Q(g,2*_+2*v+1),g[2*_+2*v+1]+=m*et,Q(g,2*_+2*v+1),g[2*_+2*v+2]+=E*et,Q(g,2*_+2*v+2)}for(_=0;_<p;_++)g[_]=g[2*_+1]<<16|g[2*_];for(_=p;_<2*p;_++)g[_]=0;return new a(g,0)};function Q(y,p){for(;(y[p]&65535)!=y[p];)y[p+1]+=y[p]>>>16,y[p]&=65535,p++}function x(y,p){this.g=y,this.h=p}function j(y,p){if(P(p))throw Error("division by zero");if(P(y))return new x(R,R);if(O(y))return p=j(C(y),p),new x(C(p.g),C(p.h));if(O(p))return p=j(y,C(p)),new x(C(p.g),p.h);if(30<y.g.length){if(O(y)||O(p))throw Error("slowDivide_ only works with positive integers.");for(var g=S,_=p;0>=_.l(y);)g=ee(g),_=ee(_);var v=Y(g,1),E=Y(_,1);for(_=Y(_,2),g=Y(g,2);!P(_);){var m=E.add(_);0>=m.l(y)&&(v=v.add(g),E=m),_=Y(_,1),g=Y(g,1)}return p=z(y,v.j(p)),new x(v,p)}for(v=R;0<=y.l(p);){for(g=Math.max(1,Math.floor(y.m()/p.m())),_=Math.ceil(Math.log(g)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),E=f(g),m=E.j(p);O(m)||0<m.l(y);)g-=_,E=f(g),m=E.j(p);P(E)&&(E=S),v=v.add(E),y=z(y,m)}return new x(v,y)}n.A=function(y){return j(this,y).h},n.and=function(y){for(var p=Math.max(this.g.length,y.g.length),g=[],_=0;_<p;_++)g[_]=this.i(_)&y.i(_);return new a(g,this.h&y.h)},n.or=function(y){for(var p=Math.max(this.g.length,y.g.length),g=[],_=0;_<p;_++)g[_]=this.i(_)|y.i(_);return new a(g,this.h|y.h)},n.xor=function(y){for(var p=Math.max(this.g.length,y.g.length),g=[],_=0;_<p;_++)g[_]=this.i(_)^y.i(_);return new a(g,this.h^y.h)};function ee(y){for(var p=y.g.length+1,g=[],_=0;_<p;_++)g[_]=y.i(_)<<1|y.i(_-1)>>>31;return new a(g,y.h)}function Y(y,p){var g=p>>5;p%=32;for(var _=y.g.length-g,v=[],E=0;E<_;E++)v[E]=0<p?y.i(E+g)>>>p|y.i(E+g+1)<<32-p:y.i(E+g);return new a(v,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jf=Qf.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=A,Vc=Qf.Integer=a}).apply(typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{});var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ft={};var Yf,rw,Xf,Zf,ep,tp,np,rp,ip;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,u){return s==Array.prototype||s==Object.prototype||(s[c]=u.value),s};function t(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof ks=="object"&&ks];for(var c=0;c<s.length;++c){var u=s[c];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var r=t(this);function i(s,c){if(c)e:{var u=r;s=s.split(".");for(var d=0;d<s.length-1;d++){var I=s[d];if(!(I in u))break e;u=u[I]}s=s[s.length-1],d=u[s],c=c(d),c!=d&&c!=null&&e(u,s,{configurable:!0,writable:!0,value:c})}}function o(s,c){s instanceof String&&(s+="");var u=0,d=!1,I={next:function(){if(!d&&u<s.length){var w=u++;return{value:c(w,s[w]),done:!1}}return d=!0,{done:!0,value:void 0}}};return I[Symbol.iterator]=function(){return I},I}i("Array.prototype.values",function(s){return s||function(){return o(this,function(c,u){return u})}});var a=a||{},l=this||self;function h(s){var c=typeof s;return c=c!="object"?c:s?Array.isArray(s)?"array":c:"null",c=="array"||c=="object"&&typeof s.length=="number"}function f(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function A(s,c,u){return s.call.apply(s.bind,arguments)}function R(s,c,u){if(!s)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var I=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(I,d),s.apply(c,I)}}return function(){return s.apply(c,arguments)}}function S(s,c,u){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,S.apply(null,arguments)}function N(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),s.apply(this,d)}}function P(s,c){function u(){}u.prototype=c.prototype,s.aa=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.Qb=function(d,I,w){for(var b=Array(arguments.length-2),K=2;K<arguments.length;K++)b[K-2]=arguments[K];return c.prototype[I].apply(d,b)}}function O(s){let c=s.length;if(0<c){let u=Array(c);for(let d=0;d<c;d++)u[d]=s[d];return u}return[]}function C(s,c){for(let u=1;u<arguments.length;u++){let d=arguments[u];if(h(d)){let I=s.length||0,w=d.length||0;s.length=I+w;for(let b=0;b<w;b++)s[I+b]=d[b]}else s.push(d)}}class z{constructor(c,u){this.i=c,this.j=u,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function Q(s){return/^[\s\xa0]*$/.test(s)}function x(){var s=l.navigator;return s&&(s=s.userAgent)?s:""}function j(s){return j[" "](s),s}j[" "]=function(){};var ee=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function Y(s,c,u){for(let d in s)c.call(u,s[d],d,s)}function y(s,c){for(let u in s)c.call(void 0,s[u],u,s)}function p(s){let c={};for(let u in s)c[u]=s[u];return c}let g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(s,c){let u,d;for(let I=1;I<arguments.length;I++){d=arguments[I];for(u in d)s[u]=d[u];for(let w=0;w<g.length;w++)u=g[w],Object.prototype.hasOwnProperty.call(d,u)&&(s[u]=d[u])}}function v(s){var c=1;s=s.split(":");let u=[];for(;0<c&&s.length;)u.push(s.shift()),c--;return s.length&&u.push(s.join(":")),u}function E(s){l.setTimeout(()=>{throw s},0)}function m(){var s=js;let c=null;return s.g&&(c=s.g,s.g=s.g.next,s.g||(s.h=null),c.next=null),c}class et{constructor(){this.h=this.g=null}add(c,u){let d=zn.get();d.set(c,u),this.h?this.h.next=d:this.g=d,this.h=d}}var zn=new z(()=>new Sp,s=>s.reset());class Sp{constructor(){this.next=this.g=this.h=null}set(c,u){this.h=c,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let Gn,Wn=!1,js=new et,lu=()=>{let s=l.Promise.resolve(void 0);Gn=()=>{s.then(bp)}};var bp=()=>{for(var s;s=m();){try{s.h.call(s.g)}catch(u){E(u)}var c=zn;c.j(s),100>c.h&&(c.h++,s.next=c.g,c.g=s)}Wn=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(s,c){this.type=s,this.g=this.target=c,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Cp=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{let u=()=>{};l.addEventListener("test",u,c),l.removeEventListener("test",u,c)}catch{}return s}();function Hn(s,c){if(de.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var u=this.type=s.type,d=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(ee){e:{try{j(c.nodeName);var I=!0;break e}catch{}I=!1}I||(c=null)}}else u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement);this.relatedTarget=c,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:Pp[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Hn.aa.h.call(this)}}P(Hn,de);var Pp={2:"touch",3:"pen",4:"mouse"};Hn.prototype.h=function(){Hn.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Kn="closure_listenable_"+(1e6*Math.random()|0),Dp=0;function Np(s,c,u,d,I){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!d,this.ha=I,this.key=++Dp,this.da=this.fa=!1}function ci(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function ui(s){this.src=s,this.g={},this.h=0}ui.prototype.add=function(s,c,u,d,I){var w=s.toString();s=this.g[w],s||(s=this.g[w]=[],this.h++);var b=$s(s,c,d,I);return-1<b?(c=s[b],u||(c.fa=!1)):(c=new Np(c,this.src,w,!!d,I),c.fa=u,s.push(c)),c};function qs(s,c){var u=c.type;if(u in s.g){var d=s.g[u],I=Array.prototype.indexOf.call(d,c,void 0),w;(w=0<=I)&&Array.prototype.splice.call(d,I,1),w&&(ci(c),s.g[u].length==0&&(delete s.g[u],s.h--))}}function $s(s,c,u,d){for(var I=0;I<s.length;++I){var w=s[I];if(!w.da&&w.listener==c&&w.capture==!!u&&w.ha==d)return I}return-1}var zs="closure_lm_"+(1e6*Math.random()|0),Gs={};function hu(s,c,u,d,I){if(d&&d.once)return fu(s,c,u,d,I);if(Array.isArray(c)){for(var w=0;w<c.length;w++)hu(s,c[w],u,d,I);return null}return u=Qs(u),s&&s[Kn]?s.K(c,u,f(d)?!!d.capture:!!d,I):du(s,c,u,!1,d,I)}function du(s,c,u,d,I,w){if(!c)throw Error("Invalid event type");var b=f(I)?!!I.capture:!!I,K=Hs(s);if(K||(s[zs]=K=new ui(s)),u=K.add(c,u,d,b,w),u.proxy)return u;if(d=Op(),u.proxy=d,d.src=s,d.listener=u,s.addEventListener)Cp||(I=b),I===void 0&&(I=!1),s.addEventListener(c.toString(),d,I);else if(s.attachEvent)s.attachEvent(mu(c.toString()),d);else if(s.addListener&&s.removeListener)s.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function Op(){function s(u){return c.call(s.src,s.listener,u)}let c=kp;return s}function fu(s,c,u,d,I){if(Array.isArray(c)){for(var w=0;w<c.length;w++)fu(s,c[w],u,d,I);return null}return u=Qs(u),s&&s[Kn]?s.L(c,u,f(d)?!!d.capture:!!d,I):du(s,c,u,!0,d,I)}function pu(s,c,u,d,I){if(Array.isArray(c))for(var w=0;w<c.length;w++)pu(s,c[w],u,d,I);else d=f(d)?!!d.capture:!!d,u=Qs(u),s&&s[Kn]?(s=s.i,c=String(c).toString(),c in s.g&&(w=s.g[c],u=$s(w,u,d,I),-1<u&&(ci(w[u]),Array.prototype.splice.call(w,u,1),w.length==0&&(delete s.g[c],s.h--)))):s&&(s=Hs(s))&&(c=s.g[c.toString()],s=-1,c&&(s=$s(c,u,d,I)),(u=-1<s?c[s]:null)&&Ws(u))}function Ws(s){if(typeof s!="number"&&s&&!s.da){var c=s.src;if(c&&c[Kn])qs(c.i,s);else{var u=s.type,d=s.proxy;c.removeEventListener?c.removeEventListener(u,d,s.capture):c.detachEvent?c.detachEvent(mu(u),d):c.addListener&&c.removeListener&&c.removeListener(d),(u=Hs(c))?(qs(u,s),u.h==0&&(u.src=null,c[zs]=null)):ci(s)}}}function mu(s){return s in Gs?Gs[s]:Gs[s]="on"+s}function kp(s,c){if(s.da)s=!0;else{c=new Hn(c,this);var u=s.listener,d=s.ha||s.src;s.fa&&Ws(s),s=u.call(d,c)}return s}function Hs(s){return s=s[zs],s instanceof ui?s:null}var Ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qs(s){return typeof s=="function"?s:(s[Ks]||(s[Ks]=function(c){return s.handleEvent(c)}),s[Ks])}function fe(){gt.call(this),this.i=new ui(this),this.M=this,this.F=null}P(fe,gt),fe.prototype[Kn]=!0,fe.prototype.removeEventListener=function(s,c,u,d){pu(this,s,c,u,d)};function ye(s,c){var u,d=s.F;if(d)for(u=[];d;d=d.F)u.push(d);if(s=s.M,d=c.type||c,typeof c=="string")c=new de(c,s);else if(c instanceof de)c.target=c.target||s;else{var I=c;c=new de(d,s),_(c,I)}if(I=!0,u)for(var w=u.length-1;0<=w;w--){var b=c.g=u[w];I=li(b,d,!0,c)&&I}if(b=c.g=s,I=li(b,d,!0,c)&&I,I=li(b,d,!1,c)&&I,u)for(w=0;w<u.length;w++)b=c.g=u[w],I=li(b,d,!1,c)&&I}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var s=this.i,c;for(c in s.g){for(var u=s.g[c],d=0;d<u.length;d++)ci(u[d]);delete s.g[c],s.h--}}this.F=null},fe.prototype.K=function(s,c,u,d){return this.i.add(String(s),c,!1,u,d)},fe.prototype.L=function(s,c,u,d){return this.i.add(String(s),c,!0,u,d)};function li(s,c,u,d){if(c=s.i.g[String(c)],!c)return!0;c=c.concat();for(var I=!0,w=0;w<c.length;++w){var b=c[w];if(b&&!b.da&&b.capture==u){var K=b.listener,oe=b.ha||b.src;b.fa&&qs(s.i,b),I=K.call(oe,d)!==!1&&I}}return I&&!d.defaultPrevented}function gu(s,c,u){if(typeof s=="function")u&&(s=S(s,u));else if(s&&typeof s.handleEvent=="function")s=S(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(s,c||0)}function _u(s){s.g=gu(()=>{s.g=null,s.i&&(s.i=!1,_u(s))},s.l);let c=s.h;s.h=null,s.m.apply(null,c)}class Lp extends gt{constructor(c,u){super(),this.m=c,this.l=u,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qn(s){gt.call(this),this.h=s,this.g={}}P(Qn,gt);var yu=[];function vu(s){Y(s.g,function(c,u){this.g.hasOwnProperty(u)&&Ws(c)},s),s.g={}}Qn.prototype.N=function(){Qn.aa.N.call(this),vu(this)},Qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=l.JSON.stringify,xp=l.JSON.parse,Mp=class{stringify(s){return l.JSON.stringify(s,void 0)}parse(s){return l.JSON.parse(s,void 0)}};function Ys(){}Ys.prototype.h=null;function Iu(s){return s.h||(s.h=s.i())}function Eu(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xs(){de.call(this,"d")}P(Xs,de);function Zs(){de.call(this,"c")}P(Zs,de);var Bt={},wu=null;function hi(){return wu=wu||new fe}Bt.La="serverreachability";function Tu(s){de.call(this,Bt.La,s)}P(Tu,de);function Yn(s){let c=hi();ye(c,new Tu(c))}Bt.STAT_EVENT="statevent";function Au(s,c){de.call(this,Bt.STAT_EVENT,s),this.stat=c}P(Au,de);function ve(s){let c=hi();ye(c,new Au(c,s))}Bt.Ma="timingevent";function Ru(s,c){de.call(this,Bt.Ma,s),this.size=c}P(Ru,de);function Xn(s,c){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){s()},c)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function Vp(s,c,u,d,I,w){s.info(function(){if(s.g)if(w)for(var b="",K=w.split("&"),oe=0;oe<K.length;oe++){var $=K[oe].split("=");if(1<$.length){var pe=$[0];$=$[1];var me=pe.split("_");b=2<=me.length&&me[1]=="type"?b+(pe+"="+$+"&"):b+(pe+"=redacted&")}}else b=null;else b=w;return"XMLHTTP REQ ("+d+") [attempt "+I+"]: "+c+`
`+u+`
`+b})}function Up(s,c,u,d,I,w,b){s.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+I+"]: "+c+`
`+u+`
`+w+" "+b})}function ln(s,c,u,d){s.info(function(){return"XMLHTTP TEXT ("+c+"): "+Bp(s,u)+(d?" "+d:"")})}function Fp(s,c){s.info(function(){return"TIMEOUT: "+c})}Zn.prototype.info=function(){};function Bp(s,c){if(!s.g)return c;if(!c)return null;try{var u=JSON.parse(c);if(u){for(s=0;s<u.length;s++)if(Array.isArray(u[s])){var d=u[s];if(!(2>d.length)){var I=d[1];if(Array.isArray(I)&&!(1>I.length)){var w=I[0];if(w!="noop"&&w!="stop"&&w!="close")for(var b=1;b<I.length;b++)I[b]=""}}}}return Js(u)}catch{return c}}var di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Su={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},eo;function fi(){}P(fi,Ys),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},eo=new fi;function _t(s,c,u,d){this.j=s,this.i=c,this.l=u,this.R=d||1,this.U=new Qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bu}function bu(){this.i=null,this.g="",this.h=!1}var Cu={},to={};function no(s,c,u){s.L=1,s.v=_i(tt(c)),s.m=u,s.P=!0,Pu(s,null)}function Pu(s,c){s.F=Date.now(),pi(s),s.A=tt(s.v);var u=s.A,d=s.R;Array.isArray(d)||(d=[String(d)]),$u(u.i,"t",d),s.C=0,u=s.j.J,s.h=new bu,s.g=al(s.j,u?c:null,!s.m),0<s.O&&(s.M=new Lp(S(s.Y,s,s.g),s.O)),c=s.U,u=s.g,d=s.ca;var I="readystatechange";Array.isArray(I)||(I&&(yu[0]=I.toString()),I=yu);for(var w=0;w<I.length;w++){var b=hu(u,I[w],d||c.handleEvent,!1,c.h||c);if(!b)break;c.g[b.key]=b}c=s.H?p(s.H):{},s.m?(s.u||(s.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,c)):(s.u="GET",s.g.ea(s.A,s.u,null,c)),Yn(),Vp(s.i,s.u,s.A,s.l,s.R,s.m)}_t.prototype.ca=function(s){s=s.target;let c=this.M;c&&nt(s)==3?c.j():this.Y(s)},_t.prototype.Y=function(s){try{if(s==this.g)e:{let me=nt(this.g);var c=this.g.Ba();let fn=this.g.Z();if(!(3>me)&&(me!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||me!=4||c==7||(c==8||0>=fn?Yn(3):Yn(2)),ro(this);var u=this.g.Z();this.X=u;t:if(Du(this)){var d=Ju(this.g);s="";var I=d.length,w=nt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),er(this);var b="";break t}this.h.i=new l.TextDecoder}for(c=0;c<I;c++)this.h.h=!0,s+=this.h.i.decode(d[c],{stream:!(w&&c==I-1)});d.length=0,this.h.g+=s,this.C=0,b=this.h.g}else b=this.g.oa();if(this.o=u==200,Up(this.i,this.u,this.A,this.l,this.R,me,u),this.o){if(this.T&&!this.K){t:{if(this.g){var K,oe=this.g;if((K=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(K)){var $=K;break t}}$=null}if(u=$)ln(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,io(this,u);else{this.o=!1,this.s=3,ve(12),jt(this),er(this);break e}}if(this.P){u=!0;let Me;for(;!this.J&&this.C<b.length;)if(Me=jp(this,b),Me==to){me==4&&(this.s=4,ve(14),u=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Cu){this.s=4,ve(15),ln(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ln(this.i,this.l,Me,null),io(this,Me);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||b.length!=0||this.h.h||(this.s=1,ve(16),u=!1),this.o=this.o&&u,!u)ln(this.i,this.l,b,"[Invalid Chunked Response]"),jt(this),er(this);else if(0<b.length&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.ba&&!pe.M&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),lo(pe),pe.M=!0,ve(11))}}else ln(this.i,this.l,b,null),io(this,b);me==4&&jt(this),this.o&&!this.J&&(me==4?rl(this.j,this):(this.o=!1,pi(this)))}else im(this.g),u==400&&0<b.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),jt(this),er(this)}}}catch{}finally{}};function Du(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function jp(s,c){var u=s.C,d=c.indexOf(`
`,u);return d==-1?to:(u=Number(c.substring(u,d)),isNaN(u)?Cu:(d+=1,d+u>c.length?to:(c=c.slice(d,d+u),s.C=d+u,c)))}_t.prototype.cancel=function(){this.J=!0,jt(this)};function pi(s){s.S=Date.now()+s.I,Nu(s,s.I)}function Nu(s,c){if(s.B!=null)throw Error("WatchDog timer not null");s.B=Xn(S(s.ba,s),c)}function ro(s){s.B&&(l.clearTimeout(s.B),s.B=null)}_t.prototype.ba=function(){this.B=null;let s=Date.now();0<=s-this.S?(Fp(this.i,this.A),this.L!=2&&(Yn(),ve(17)),jt(this),this.s=2,er(this)):Nu(this,this.S-s)};function er(s){s.j.G==0||s.J||rl(s.j,s)}function jt(s){ro(s);var c=s.M;c&&typeof c.ma=="function"&&c.ma(),s.M=null,vu(s.U),s.g&&(c=s.g,s.g=null,c.abort(),c.ma())}function io(s,c){try{var u=s.j;if(u.G!=0&&(u.g==s||so(u.h,s))){if(!s.K&&so(u.h,s)&&u.G==3){try{var d=u.Da.g.parse(c)}catch{d=null}if(Array.isArray(d)&&d.length==3){var I=d;if(I[0]==0){e:if(!u.u){if(u.g)if(u.g.F+3e3<s.F)wi(u),Ii(u);else break e;uo(u),ve(18)}}else u.za=I[1],0<u.za-u.T&&37500>I[2]&&u.F&&u.v==0&&!u.C&&(u.C=Xn(S(u.Za,u),6e3));if(1>=Lu(u.h)&&u.ca){try{u.ca()}catch{}u.ca=void 0}}else $t(u,11)}else if((s.K||u.g==s)&&wi(u),!Q(c))for(I=u.Da.g.parse(c),c=0;c<I.length;c++){let $=I[c];if(u.T=$[0],$=$[1],u.G==2)if($[0]=="c"){u.K=$[1],u.ia=$[2];let pe=$[3];pe!=null&&(u.la=pe,u.j.info("VER="+u.la));let me=$[4];me!=null&&(u.Aa=me,u.j.info("SVER="+u.Aa));let fn=$[5];fn!=null&&typeof fn=="number"&&0<fn&&(d=1.5*fn,u.L=d,u.j.info("backChannelRequestTimeoutMs_="+d)),d=u;let Me=s.g;if(Me){let Ai=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var w=d.h;w.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(w.j=w.l,w.g=new Set,w.h&&(oo(w,w.h),w.h=null))}if(d.D){let ho=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(d.ya=ho,J(d.I,d.D,ho))}}u.G=3,u.l&&u.l.ua(),u.ba&&(u.R=Date.now()-s.F,u.j.info("Handshake RTT: "+u.R+"ms")),d=u;var b=s;if(d.qa=ol(d,d.J?d.ia:null,d.W),b.K){xu(d.h,b);var K=b,oe=d.L;oe&&(K.I=oe),K.B&&(ro(K),pi(K)),d.g=b}else tl(d);0<u.i.length&&Ei(u)}else $[0]!="stop"&&$[0]!="close"||$t(u,7);else u.G==3&&($[0]=="stop"||$[0]=="close"?$[0]=="stop"?$t(u,7):co(u):$[0]!="noop"&&u.l&&u.l.ta($),u.v=0)}}Yn(4)}catch{}}var qp=class{constructor(s,c){this.g=s,this.map=c}};function Ou(s){this.l=s||10,l.PerformanceNavigationTiming?(s=l.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ku(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Lu(s){return s.h?1:s.g?s.g.size:0}function so(s,c){return s.h?s.h==c:s.g?s.g.has(c):!1}function oo(s,c){s.g?s.g.add(c):s.h=c}function xu(s,c){s.h&&s.h==c?s.h=null:s.g&&s.g.has(c)&&s.g.delete(c)}Ou.prototype.cancel=function(){if(this.i=Mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let s of this.g.values())s.cancel();this.g.clear()}};function Mu(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let c=s.i;for(let u of s.g.values())c=c.concat(u.D);return c}return O(s.i)}function $p(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(h(s)){for(var c=[],u=s.length,d=0;d<u;d++)c.push(s[d]);return c}c=[],u=0;for(d in s)c[u++]=s[d];return c}function zp(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(h(s)||typeof s=="string"){var c=[];s=s.length;for(var u=0;u<s;u++)c.push(u);return c}c=[],u=0;for(let d in s)c[u++]=d;return c}}}function Vu(s,c){if(s.forEach&&typeof s.forEach=="function")s.forEach(c,void 0);else if(h(s)||typeof s=="string")Array.prototype.forEach.call(s,c,void 0);else for(var u=zp(s),d=$p(s),I=d.length,w=0;w<I;w++)c.call(void 0,d[w],u&&u[w],s)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gp(s,c){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var d=s[u].indexOf("="),I=null;if(0<=d){var w=s[u].substring(0,d);I=s[u].substring(d+1)}else w=s[u];c(w,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function qt(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof qt){this.h=s.h,mi(this,s.j),this.o=s.o,this.g=s.g,gi(this,s.s),this.l=s.l;var c=s.i,u=new rr;u.i=c.i,c.g&&(u.g=new Map(c.g),u.h=c.h),Fu(this,u),this.m=s.m}else s&&(c=String(s).match(Uu))?(this.h=!1,mi(this,c[1]||"",!0),this.o=tr(c[2]||""),this.g=tr(c[3]||"",!0),gi(this,c[4]),this.l=tr(c[5]||"",!0),Fu(this,c[6]||"",!0),this.m=tr(c[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}qt.prototype.toString=function(){var s=[],c=this.j;c&&s.push(nr(c,Bu,!0),":");var u=this.g;return(u||c=="file")&&(s.push("//"),(c=this.o)&&s.push(nr(c,Bu,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.s,u!=null&&s.push(":",String(u))),(u=this.l)&&(this.g&&u.charAt(0)!="/"&&s.push("/"),s.push(nr(u,u.charAt(0)=="/"?Kp:Hp,!0))),(u=this.i.toString())&&s.push("?",u),(u=this.m)&&s.push("#",nr(u,Jp)),s.join("")};function tt(s){return new qt(s)}function mi(s,c,u){s.j=u?tr(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function gi(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.s=c}else s.s=null}function Fu(s,c,u){c instanceof rr?(s.i=c,Yp(s.i,s.h)):(u||(c=nr(c,Qp)),s.i=new rr(c,s.h))}function J(s,c,u){s.i.set(c,u)}function _i(s){return J(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function tr(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function nr(s,c,u){return typeof s=="string"?(s=encodeURI(s).replace(c,Wp),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Wp(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Bu=/[#\/\?@]/g,Hp=/[#\?:]/g,Kp=/[#\?]/g,Qp=/[#\?@]/g,Jp=/#/g;function rr(s,c){this.h=this.g=null,this.i=s||null,this.j=!!c}function yt(s){s.g||(s.g=new Map,s.h=0,s.i&&Gp(s.i,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}n=rr.prototype,n.add=function(s,c){yt(this),this.i=null,s=hn(this,s);var u=this.g.get(s);return u||this.g.set(s,u=[]),u.push(c),this.h+=1,this};function ju(s,c){yt(s),c=hn(s,c),s.g.has(c)&&(s.i=null,s.h-=s.g.get(c).length,s.g.delete(c))}function qu(s,c){return yt(s),c=hn(s,c),s.g.has(c)}n.forEach=function(s,c){yt(this),this.g.forEach(function(u,d){u.forEach(function(I){s.call(c,I,d,this)},this)},this)},n.na=function(){yt(this);let s=Array.from(this.g.values()),c=Array.from(this.g.keys()),u=[];for(let d=0;d<c.length;d++){let I=s[d];for(let w=0;w<I.length;w++)u.push(c[d])}return u},n.V=function(s){yt(this);let c=[];if(typeof s=="string")qu(this,s)&&(c=c.concat(this.g.get(hn(this,s))));else{s=Array.from(this.g.values());for(let u=0;u<s.length;u++)c=c.concat(s[u])}return c},n.set=function(s,c){return yt(this),this.i=null,s=hn(this,s),qu(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[c]),this.h+=1,this},n.get=function(s,c){return s?(s=this.V(s),0<s.length?String(s[0]):c):c};function $u(s,c,u){ju(s,c),0<u.length&&(s.i=null,s.g.set(hn(s,c),O(u)),s.h+=u.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let s=[],c=Array.from(this.g.keys());for(var u=0;u<c.length;u++){var d=c[u];let w=encodeURIComponent(String(d)),b=this.V(d);for(d=0;d<b.length;d++){var I=w;b[d]!==""&&(I+="="+encodeURIComponent(String(b[d]))),s.push(I)}}return this.i=s.join("&")};function hn(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function Yp(s,c){c&&!s.j&&(yt(s),s.i=null,s.g.forEach(function(u,d){var I=d.toLowerCase();d!=I&&(ju(this,d),$u(this,I,u))},s)),s.j=c}function Xp(s,c){let u=new Zn;if(l.Image){let d=new Image;d.onload=N(vt,u,"TestLoadImage: loaded",!0,c,d),d.onerror=N(vt,u,"TestLoadImage: error",!1,c,d),d.onabort=N(vt,u,"TestLoadImage: abort",!1,c,d),d.ontimeout=N(vt,u,"TestLoadImage: timeout",!1,c,d),l.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=s}else c(!1)}function Zp(s,c){let u=new Zn,d=new AbortController,I=setTimeout(()=>{d.abort(),vt(u,"TestPingServer: timeout",!1,c)},1e4);fetch(s,{signal:d.signal}).then(w=>{clearTimeout(I),w.ok?vt(u,"TestPingServer: ok",!0,c):vt(u,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(I),vt(u,"TestPingServer: error",!1,c)})}function vt(s,c,u,d,I){try{I&&(I.onload=null,I.onerror=null,I.onabort=null,I.ontimeout=null),d(u)}catch{}}function em(){this.g=new Mp}function tm(s,c,u){let d=u||"";try{Vu(s,function(I,w){let b=I;f(I)&&(b=Js(I)),c.push(d+w+"="+encodeURIComponent(b))})}catch(I){throw c.push(d+"type="+encodeURIComponent("_badmap")),I}}function ir(s){this.l=s.Ub||null,this.j=s.eb||!1}P(ir,Ys),ir.prototype.g=function(){return new yi(this.l,this.j)},ir.prototype.i=function(s){return function(){return s}}({});function yi(s,c){fe.call(this),this.D=s,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(yi,fe),n=yi.prototype,n.open=function(s,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=c,this.readyState=1,or(this)},n.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(c.body=s),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},n.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zu(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function zu(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}n.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var c=s.value?s.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!s.done}))&&(this.response=this.responseText+=c)}s.done?sr(this):or(this),this.readyState==3&&zu(this)}},n.Ra=function(s){this.g&&(this.response=this.responseText=s,sr(this))},n.Qa=function(s){this.g&&(this.response=s,sr(this))},n.ga=function(){this.g&&sr(this)};function sr(s){s.readyState=4,s.l=null,s.j=null,s.v=null,or(s)}n.setRequestHeader=function(s,c){this.u.append(s,c)},n.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let s=[],c=this.h.entries();for(var u=c.next();!u.done;)u=u.value,s.push(u[0]+": "+u[1]),u=c.next();return s.join(`\r
`)};function or(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function Gu(s){let c="";return Y(s,function(u,d){c+=d,c+=":",c+=u,c+=`\r
`}),c}function ao(s,c,u){e:{for(d in u){var d=!1;break e}d=!0}d||(u=Gu(u),typeof s=="string"?u!=null&&encodeURIComponent(String(u)):J(s,c,u))}function te(s){fe.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(te,fe);var nm=/^https?$/i,rm=["POST","PUT"];n=te.prototype,n.Ha=function(s){this.J=s},n.ea=function(s,c,u,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);c=c?c.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():eo.g(),this.v=this.o?Iu(this.o):Iu(eo),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(c,String(s),!0),this.B=!1}catch(w){Wu(this,w);return}if(s=u||"",u=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var I in d)u.set(I,d[I]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(let w of d.keys())u.set(w,d.get(w));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(u.keys()).find(w=>w.toLowerCase()=="content-type"),I=l.FormData&&s instanceof l.FormData,!(0<=Array.prototype.indexOf.call(rm,c,void 0))||d||I||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[w,b]of u)this.g.setRequestHeader(w,b);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qu(this),this.u=!0,this.g.send(s),this.u=!1}catch(w){Wu(this,w)}};function Wu(s,c){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=c,s.m=5,Hu(s),vi(s)}function Hu(s){s.A||(s.A=!0,ye(s,"complete"),ye(s,"error"))}n.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,ye(this,"complete"),ye(this,"abort"),vi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),te.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ku(this):this.bb())},n.bb=function(){Ku(this)};function Ku(s){if(s.h&&typeof a<"u"&&(!s.v[1]||nt(s)!=4||s.Z()!=2)){if(s.u&&nt(s)==4)gu(s.Ea,0,s);else if(ye(s,"readystatechange"),nt(s)==4){s.h=!1;try{let b=s.Z();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var u;if(!(u=c)){var d;if(d=b===0){var I=String(s.D).match(Uu)[1]||null;!I&&l.self&&l.self.location&&(I=l.self.location.protocol.slice(0,-1)),d=!nm.test(I?I.toLowerCase():"")}u=d}if(u)ye(s,"complete"),ye(s,"success");else{s.m=6;try{var w=2<nt(s)?s.g.statusText:""}catch{w=""}s.l=w+" ["+s.Z()+"]",Hu(s)}}finally{vi(s)}}}}function vi(s,c){if(s.g){Qu(s);let u=s.g,d=s.v[0]?()=>{}:null;s.g=null,s.v=null,c||ye(s,"ready");try{u.onreadystatechange=d}catch{}}}function Qu(s){s.I&&(l.clearTimeout(s.I),s.I=null)}n.isActive=function(){return!!this.g};function nt(s){return s.g?s.g.readyState:0}n.Z=function(){try{return 2<nt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(s){if(this.g){var c=this.g.responseText;return s&&c.indexOf(s)==0&&(c=c.substring(s.length)),xp(c)}};function Ju(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function im(s){let c={};s=(s.g&&2<=nt(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<s.length;d++){if(Q(s[d]))continue;var u=v(s[d]);let I=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();let w=c[I]||[];c[I]=w,w.push(u)}y(c,function(d){return d.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(s,c,u){return u&&u.internalChannelParams&&u.internalChannelParams[s]||c}function Yu(s){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,s),this.cb=ar("retryDelaySeedMs",1e4,s),this.Wa=ar("forwardChannelMaxRetries",2,s),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Ou(s&&s.concurrentRequestLimit),this.Da=new em,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Yu.prototype,n.la=8,n.G=1,n.connect=function(s,c,u,d){ve(0),this.W=s,this.H=c||{},u&&d!==void 0&&(this.H.OSID=u,this.H.OAID=d),this.F=this.X,this.I=ol(this,null,this.W),Ei(this)};function co(s){if(Xu(s),s.G==3){var c=s.U++,u=tt(s.I);if(J(u,"SID",s.K),J(u,"RID",c),J(u,"TYPE","terminate"),cr(s,u),c=new _t(s,s.j,c),c.L=2,c.v=_i(tt(u)),u=!1,l.navigator&&l.navigator.sendBeacon)try{u=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!u&&l.Image&&(new Image().src=c.v,u=!0),u||(c.g=al(c.j,null),c.g.ea(c.v)),c.F=Date.now(),pi(c)}sl(s)}function Ii(s){s.g&&(lo(s),s.g.cancel(),s.g=null)}function Xu(s){Ii(s),s.u&&(l.clearTimeout(s.u),s.u=null),wi(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&l.clearTimeout(s.s),s.s=null)}function Ei(s){if(!ku(s.h)&&!s.s){s.s=!0;var c=s.Ga;Gn||lu(),Wn||(Gn(),Wn=!0),js.add(c,s),s.B=0}}function sm(s,c){return Lu(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=c.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=Xn(S(s.Ga,s,c),il(s,s.B)),s.B++,!0)}n.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;let I=new _t(this,this.j,s),w=this.o;if(this.S&&(w?(w=p(w),_(w,this.S)):w=this.S),this.m!==null||this.O||(I.H=w,w=null),this.P)e:{for(var c=0,u=0;u<this.i.length;u++){t:{var d=this.i[u];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break t}d=void 0}if(d===void 0)break;if(c+=d,4096<c){c=u;break e}if(c===4096||u===this.i.length-1){c=u+1;break e}}c=1e3}else c=1e3;c=el(this,I,c),u=tt(this.I),J(u,"RID",s),J(u,"CVER",22),this.D&&J(u,"X-HTTP-Session-Id",this.D),cr(this,u),w&&(this.O?c="headers="+encodeURIComponent(String(Gu(w)))+"&"+c:this.m&&ao(u,this.m,w)),oo(this.h,I),this.Ua&&J(u,"TYPE","init"),this.P?(J(u,"$req",c),J(u,"SID","null"),I.T=!0,no(I,u,null)):no(I,u,c),this.G=2}}else this.G==3&&(s?Zu(this,s):this.i.length==0||ku(this.h)||Zu(this))};function Zu(s,c){var u;c?u=c.l:u=s.U++;let d=tt(s.I);J(d,"SID",s.K),J(d,"RID",u),J(d,"AID",s.T),cr(s,d),s.m&&s.o&&ao(d,s.m,s.o),u=new _t(s,s.j,u,s.B+1),s.m===null&&(u.H=s.o),c&&(s.i=c.D.concat(s.i)),c=el(s,u,1e3),u.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),oo(s.h,u),no(u,d,c)}function cr(s,c){s.H&&Y(s.H,function(u,d){J(c,d,u)}),s.l&&Vu({},function(u,d){J(c,d,u)})}function el(s,c,u){u=Math.min(s.i.length,u);var d=s.l?S(s.l.Na,s.l,s):null;e:{var I=s.i;let w=-1;for(;;){let b=["count="+u];w==-1?0<u?(w=I[0].g,b.push("ofs="+w)):w=0:b.push("ofs="+w);let K=!0;for(let oe=0;oe<u;oe++){let $=I[oe].g,pe=I[oe].map;if($-=w,0>$)w=Math.max(0,I[oe].g-100),K=!1;else try{tm(pe,b,"req"+$+"_")}catch{d&&d(pe)}}if(K){d=b.join("&");break e}}}return s=s.i.splice(0,u),c.D=s,d}function tl(s){if(!s.g&&!s.u){s.Y=1;var c=s.Fa;Gn||lu(),Wn||(Gn(),Wn=!0),js.add(c,s),s.v=0}}function uo(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=Xn(S(s.Fa,s),il(s,s.v)),s.v++,!0)}n.Fa=function(){if(this.u=null,nl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=Xn(S(this.ab,this),s)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),Ii(this),nl(this))};function lo(s){s.A!=null&&(l.clearTimeout(s.A),s.A=null)}function nl(s){s.g=new _t(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var c=tt(s.qa);J(c,"RID","rpc"),J(c,"SID",s.K),J(c,"AID",s.T),J(c,"CI",s.F?"0":"1"),!s.F&&s.ja&&J(c,"TO",s.ja),J(c,"TYPE","xmlhttp"),cr(s,c),s.m&&s.o&&ao(c,s.m,s.o),s.L&&(s.g.I=s.L);var u=s.g;s=s.ia,u.L=1,u.v=_i(tt(c)),u.m=null,u.P=!0,Pu(u,s)}n.Za=function(){this.C!=null&&(this.C=null,Ii(this),uo(this),ve(19))};function wi(s){s.C!=null&&(l.clearTimeout(s.C),s.C=null)}function rl(s,c){var u=null;if(s.g==c){wi(s),lo(s),s.g=null;var d=2}else if(so(s.h,c))u=c.D,xu(s.h,c),d=1;else return;if(s.G!=0){if(c.o)if(d==1){u=c.m?c.m.length:0,c=Date.now()-c.F;var I=s.B;d=hi(),ye(d,new Ru(d,u)),Ei(s)}else tl(s);else if(I=c.s,I==3||I==0&&0<c.X||!(d==1&&sm(s,c)||d==2&&uo(s)))switch(u&&0<u.length&&(c=s.h,c.i=c.i.concat(u)),I){case 1:$t(s,5);break;case 4:$t(s,10);break;case 3:$t(s,6);break;default:$t(s,2)}}}function il(s,c){let u=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(u*=2),u*c}function $t(s,c){if(s.j.info("Error code "+c),c==2){var u=S(s.fb,s),d=s.Xa;let I=!d;d=new qt(d||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mi(d,"https"),_i(d),I?Xp(d.toString(),u):Zp(d.toString(),u)}else ve(2);s.G=0,s.l&&s.l.sa(c),sl(s),Xu(s)}n.fb=function(s){s?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function sl(s){if(s.G=0,s.ka=[],s.l){let c=Mu(s.h);(c.length!=0||s.i.length!=0)&&(C(s.ka,c),C(s.ka,s.i),s.h.i.length=0,O(s.i),s.i.length=0),s.l.ra()}}function ol(s,c,u){var d=u instanceof qt?tt(u):new qt(u);if(d.g!="")c&&(d.g=c+"."+d.g),gi(d,d.s);else{var I=l.location;d=I.protocol,c=c?c+"."+I.hostname:I.hostname,I=+I.port;var w=new qt(null);d&&mi(w,d),c&&(w.g=c),I&&gi(w,I),u&&(w.l=u),d=w}return u=s.D,c=s.ya,u&&c&&J(d,u,c),J(d,"VER",s.la),cr(s,d),d}function al(s,c,u){if(c&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=s.Ca&&!s.pa?new te(new ir({eb:u})):new te(s.pa),c.Ha(s.J),c}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cl(){}n=cl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ti(){}Ti.prototype.g=function(s,c){return new Se(s,c)};function Se(s,c){fe.call(this),this.g=new Yu(c),this.l=s,this.h=c&&c.messageUrlParams||null,s=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(s?s["X-WebChannel-Content-Type"]=c.messageContentType:s={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(s?s["X-WebChannel-Client-Profile"]=c.va:s={"X-WebChannel-Client-Profile":c.va}),this.g.S=s,(s=c&&c.Sb)&&!Q(s)&&(this.g.m=s),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!Q(c)&&(this.g.D=c,s=this.h,s!==null&&c in s&&(s=this.h,c in s&&delete s[c])),this.j=new dn(this)}P(Se,fe),Se.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Se.prototype.close=function(){co(this.g)},Se.prototype.o=function(s){var c=this.g;if(typeof s=="string"){var u={};u.__data__=s,s=u}else this.u&&(u={},u.__data__=Js(s),s=u);c.i.push(new qp(c.Ya++,s)),c.G==3&&Ei(c)},Se.prototype.N=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,Se.aa.N.call(this)};function ul(s){Xs.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var c=s.__sm__;if(c){e:{for(let u in c){s=u;break e}s=void 0}(this.i=s)&&(s=this.i,c=c!==null&&s in c?c[s]:void 0),this.data=c}else this.data=s}P(ul,Xs);function ll(){Zs.call(this),this.status=1}P(ll,Zs);function dn(s){this.g=s}P(dn,cl),dn.prototype.ua=function(){ye(this.g,"a")},dn.prototype.ta=function(s){ye(this.g,new ul(s))},dn.prototype.sa=function(s){ye(this.g,new ll)},dn.prototype.ra=function(){ye(this.g,"b")},Ti.prototype.createWebChannel=Ti.prototype.g,Se.prototype.send=Se.prototype.o,Se.prototype.open=Se.prototype.m,Se.prototype.close=Se.prototype.close,ip=ft.createWebChannelTransport=function(){return new Ti},rp=ft.getStatEventTarget=function(){return hi()},np=ft.Event=Bt,tp=ft.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,ep=ft.ErrorCode=di,Su.COMPLETE="complete",Zf=ft.EventType=Su,Eu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Xf=ft.WebChannel=Eu,rw=ft.FetchXmlHttpFactory=ir,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,Yf=ft.XhrIo=te}).apply(typeof ks<"u"?ks:typeof self<"u"?self:typeof window<"u"?window:{});var sp="@firebase/firestore";var le=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};le.UNAUTHENTICATED=new le(null),le.GOOGLE_CREDENTIALS=new le("google-credentials-uid"),le.FIRST_PARTY=new le("first-party-uid"),le.MOCK_USER=new le("mock-user");var si="10.14.0";var Bn=new Dt("@firebase/firestore");function je(n,...e){if(Bn.logLevel<=W.DEBUG){let t=e.map(Zc);Bn.debug(`Firestore (${si}): ${n}`,...t)}}function lp(n,...e){if(Bn.logLevel<=W.ERROR){let t=e.map(Zc);Bn.error(`Firestore (${si}): ${n}`,...t)}}function iw(n,...e){if(Bn.logLevel<=W.WARN){let t=e.map(Zc);Bn.warn(`Firestore (${si}): ${n}`,...t)}}function Zc(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Re(n="Unexpected state"){let e=`FIRESTORE (${si}) INTERNAL ASSERTION FAILED: `+n;throw lp(e),new Error(e)}function an(n,e){n||Re()}var Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},he=class extends Ie{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Ls=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Fc=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(le.UNAUTHENTICATED))}shutdown(){}},Bc=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},jc=class{constructor(e){this.t=e,this.currentUser=le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){an(this.o===void 0);let r=this.i,i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve(),o=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cn,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let h=o;e.enqueueRetryable(()=>T(this,null,function*(){yield h.promise,yield i(this.currentUser)}))},l=h=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(h=>l(h)),setTimeout(()=>{if(!this.auth){let h=this.t.getImmediate({optional:!0});h?l(h):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cn)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(an(typeof r.accessToken=="string"),new Ls(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return an(e===null||typeof e=="string"),new le(e)}},qc=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=le.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},$c=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(le.FIRST_PARTY))}shutdown(){}invalidateToken(){}},zc=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Gc=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){an(this.o===void 0);let r=o=>{o.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,je("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(an(typeof t.token=="string"),this.R=t.token,new zc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function hp(n,e){return n<e?-1:n>e?1:0}var Wc=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),a=t.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ft=class n extends Wc{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new he(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}};var un=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ft.fromString(e))}static fromName(e){return new n(Ft.fromString(e).popFirst(5))}static empty(){return new n(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ft(e.slice()))}};var Hc=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Hc.UNKNOWN_ID=-1;function sw(n){return n.name==="IndexedDbTransactionError"}function ow(n){return n===0&&1/n==-1/0}var aw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bS=[...aw,"documentOverlays"],cw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uw=cw,lw=[...uw,"indexConfiguration","indexState","indexEntries"];var CS=[...lw,"globals"];var jn=class n{constructor(e,t){this.comparator=e,this.root=t||Xe.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fn(this.root,e,this.comparator,!0)}},Fn=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xe=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();let e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}};Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Xe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var xs=class n{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ms(this.data.getIterator())}getIteratorFrom(e){return new Ms(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ms=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Kc=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kc("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qn.EMPTY_BYTE_STRING=new qn("");var hw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dw(n){if(an(!!n),typeof n=="string"){let e=0,t=hw.exec(n);if(an(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ii(n.seconds),nanos:ii(n.nanos)}}function ii(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fw(n){return typeof n=="string"?qn.fromBase64String(n):qn.fromUint8Array(n)}var Qc=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function pw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function mw(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var DS=new jn(un.comparator);var NS=new jn(un.comparator);var OS=new jn(un.comparator),kS=new xs(un.comparator);var LS=new xs(hp);var op,B;(B=op||(op={}))[B.OK=0]="OK",B[B.CANCELLED=1]="CANCELLED",B[B.UNKNOWN=2]="UNKNOWN",B[B.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",B[B.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",B[B.NOT_FOUND=5]="NOT_FOUND",B[B.ALREADY_EXISTS=6]="ALREADY_EXISTS",B[B.PERMISSION_DENIED=7]="PERMISSION_DENIED",B[B.UNAUTHENTICATED=16]="UNAUTHENTICATED",B[B.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",B[B.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",B[B.ABORTED=10]="ABORTED",B[B.OUT_OF_RANGE=11]="OUT_OF_RANGE",B[B.UNIMPLEMENTED=12]="UNIMPLEMENTED",B[B.INTERNAL=13]="INTERNAL",B[B.UNAVAILABLE=14]="UNAVAILABLE",B[B.DATA_LOSS=15]="DATA_LOSS";var xS=new Vc([4294967295,4294967295],0);var Vs=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ii(e.integerValue));else if("doubleValue"in e){let r=ii(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),ow(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=dw(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(fw(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?mw(e)?this.dt(t,Number.MAX_SAFE_INTEGER):pw(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Re()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let a="value",l=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(ii(l)),this.Vt(a,t),this.Tt(o[a],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),un.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Vs.vt=new Vs;var MS=new Uint8Array(0);var Ye=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ye.DEFAULT_COLLECTION_PERCENTILE=10,Ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ye.DEFAULT=new Ye(41943040,Ye.DEFAULT_COLLECTION_PERCENTILE,Ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ye.DISABLED=new Ye(-1,0,0);function Uc(){return typeof document<"u"?document:null}var Jc=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Yc=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let a=Date.now()+r,l=new n(e,t,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var ap,cp;(cp=ap||(ap={})).ea="default",cp.Cache="cache";function gw(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var up=new Map;function _w(n,e,t,r){if(e===!0&&r===!0)throw new he(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function vw(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=yw(n);throw new he(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Us=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_w("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Fs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Us({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Us(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fc;switch(r.type){case"firstParty":return new $c(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=up.get(t);r&&(je("ComponentProvider","Removing Datastore"),up.delete(t),r.terminate())}(this),Promise.resolve()}};function dp(n,e,t,r={}){var i;let o=(n=vw(n,Fs))._getSettings(),a=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&iw("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=le.MOCK_USER;else{l=ls(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new he(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new le(f)}n._authCredentials=new Bc(new Ls(l,h))}}var Bs=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Jc(this,"async_queue_retry"),this.Vu=()=>{let r=Uc();r&&je("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Uc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Uc();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new cn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return T(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!sw(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw lp("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Yc.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Re()}verifyOperationInProgress(){}wu(){return T(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Xc=class extends Fs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Bs,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Bs(e),this._firestoreClient=void 0,yield e}})}};function fp(n,e){let t=typeof n=="object"?n:Ot(),r=typeof n=="string"?n:e||"(default)",i=Xt(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=us("firestore");o&&dp(i,...o)}return i}var VS=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(i){si=i})(Qe),Ke(new Ae("firestore",(r,{instanceIdentifier:i,options:o})=>{let a=r.getProvider("app").getImmediate(),l=new Xc(new jc(r.getProvider("auth-internal")),new Gc(r.getProvider("app-check-internal")),function(f,A){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new he(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(f.options.projectId,A)}(a,i),a);return o=Object.assign({useFetchStreams:t},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Z(sp,"4.7.3",e),Z(sp,"4.7.3","esm2017")})();var oi=class{constructor(e){return e}},pp="firestore",eu=class{constructor(){return en(pp)}};var tu=new q("angularfire2.firestore-instances");function Iw(n,e){let t=Mn(pp,n,e);return t&&new oi(t)}function Ew(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new oi(r)}}var ww={provide:eu,deps:[[new re,tu]]},Tw={provide:oi,useFactory:Iw,deps:[[new re,tu],Be]};function a0(n,...e){return Z("angularfire",ut.full,"fst"),we([Tw,ww,{provide:tu,useFactory:Ew(n),multi:!0,deps:[ie,Ve,Lt,lt,[new re,on],[new re,kt],...e]}])}var c0=xt(fp,!0);var Ip="firebasestorage.googleapis.com",Aw="storageBucket",Rw=2*60*1e3,Sw=10*60*1e3;var Ze=class n extends Ie{constructor(e,t,r=0){super(nu(e),`Firebase Storage: ${t} (${nu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},mt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(mt||{});function nu(n){return"storage/"+n}function bw(){let n="An unknown error occurred, please check the error payload for server response.";return new Ze(mt.UNKNOWN,n)}function Cw(){return new Ze(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pw(){return new Ze(mt.CANCELED,"User canceled the upload/download.")}function Dw(n){return new Ze(mt.INVALID_URL,"Invalid URL '"+n+"'.")}function Nw(n){return new Ze(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function mp(n){return new Ze(mt.INVALID_ARGUMENT,n)}function Ep(){return new Ze(mt.APP_DELETED,"The Firebase app was deleted.")}function Ow(n){return new Ze(mt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var pt=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw Nw(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}let a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),h={bucket:1,path:3};function f(j){j.path_=decodeURIComponent(j.path)}let A="v[A-Za-z0-9_]+",R=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${R}/${A}/b/${i}/o${S}`,"i"),P={bucket:1,path:3},O=t===Ip?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",z=new RegExp(`^https?://${O}/${i}/${C}`,"i"),x=[{regex:l,indices:h,postModify:o},{regex:N,indices:P,postModify:f},{regex:z,indices:{bucket:1,path:2},postModify:f}];for(let j=0;j<x.length;j++){let ee=x[j],Y=ee.regex.exec(e);if(Y){let y=Y[ee.indices.bucket],p=Y[ee.indices.path];p||(p=""),r=new n(y,p),ee.postModify(r);break}}if(r==null)throw Dw(e);return r}},ru=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function kw(n,e,t){let r=1,i=null,o=null,a=!1,l=0;function h(){return l===2}let f=!1;function A(...C){f||(f=!0,e.apply(null,C))}function R(C){i=setTimeout(()=>{i=null,n(N,h())},C)}function S(){o&&clearTimeout(o)}function N(C,...z){if(f){S();return}if(C){S(),A.call(null,C,...z);return}if(h()||a){S(),A.call(null,C,...z);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,R(x)}let P=!1;function O(C){P||(P=!0,S(),!f&&(i!==null?(C||(l=2),clearTimeout(i),R(0)):C||(l=1)))}return R(0),o=setTimeout(()=>{a=!0,O(!0)},t),O}function Lw(n){n(!1)}function xw(n){return n!==void 0}function gp(n,e,t,r){if(r<e)throw mp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw mp(`Invalid value for '${n}'. Expected ${t} or less.`)}function Mw(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var iu=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(iu||{});function Vw(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var su=class{constructor(e,t,r,i,o,a,l,h,f,A,R,S=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=A,this.connectionFactory_=R,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,P)=>{this.resolve_=N,this.reject_=P,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new $n(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let a=l=>{let h=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;let l=o.getErrorCode()===iu.NO_ERROR,h=o.getStatus();if(!l||Vw(h,this.additionalRetryCodes_)&&this.retry){let A=o.getErrorCode()===iu.ABORT;r(!1,new $n(!1,null,A));return}let f=this.successCodes_.indexOf(h)!==-1;r(!0,new $n(f,o))})},t=(r,i)=>{let o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{let h=this.callback_(l,l.getResponse());xw(h)?o(h):o()}catch(h){a(h)}else if(l!==null){let h=bw();h.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,h)):a(h)}else if(i.canceled){let h=this.appDelete_?Ep():Pw();a(h)}else{let h=Cw();a(h)}};this.canceled_?t(!1,new $n(!1,null,!0)):this.backoffId_=kw(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lw(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},$n=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function Uw(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Fw(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bw(n,e){e&&(n["X-Firebase-GMPID"]=e)}function jw(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function qw(n,e,t,r,i,o,a=!0){let l=Mw(n.urlParams),h=n.url+l,f=Object.assign({},n.headers);return Bw(f,e),Uw(f,t),Fw(f,o),jw(f,r),new su(h,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a)}function $w(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function zw(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var p0=256*1024;var ou=class n{constructor(e,t){this._service=e,t instanceof pt?this._location=t:this._location=pt.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new pt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zw(this._location.path)}get storage(){return this._service}get parent(){let e=$w(this._location.path);if(e===null)return null;let t=new pt(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Ow(e)}};function _p(n,e){let t=e?.[Aw];return t==null?null:pt.makeFromBucketSpec(t,n)}function Gw(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:ls(i,n.app.options.projectId))}var au=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Ip,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rw,this._maxUploadRetryTime=Sw,this._requests=new Set,i!=null?this._bucket=pt.makeFromBucketSpec(i,this._host):this._bucket=_p(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pt.makeFromBucketSpec(this._url,e):this._bucket=_p(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return T(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return T(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ou(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new ru(Ep());{let a=qw(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){return T(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},yp="@firebase/storage",vp="0.13.2";var wp="storage";function Tp(n=Ot(),e){n=We(n);let r=Xt(n,wp).getImmediate({identifier:e}),i=us("storage");return i&&Ap(r,...i),r}function Ap(n,e,t,r={}){Gw(n,e,t,r)}function Ww(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new au(t,r,i,e,Qe)}function Hw(){Ke(new Ae(wp,Ww,"PUBLIC").setMultipleInstances(!0)),Z(yp,vp,""),Z(yp,vp,"esm2017")}Hw();var ai=class{constructor(e){return e}},Rp="storage",cu=class{constructor(){return en(Rp)}};var uu=new q("angularfire2.storage-instances");function Kw(n,e){let t=Mn(Rp,n,e);return t&&new ai(t)}function Qw(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ai(r)}}var Jw={provide:cu,deps:[[new re,uu]]},Yw={provide:ai,useFactory:Kw,deps:[[new re,uu],Be]};function F0(n,...e){return Z("angularfire",ut.full,"gcs"),we([Yw,Jw,{provide:uu,useFactory:Qw(n),multi:!0,deps:[ie,Ve,Lt,lt,[new re,on],[new re,kt],...e]}])}var B0=xt(Tp,!0);export{pm as a,cT as b,Dh as c,OT as d,ig as e,kT as f,Ct as g,Mg as h,Ge as i,Wh as j,XT as k,ZT as l,Y_ as m,eA as n,ce as o,rA as p,iA as q,oy as r,mA as s,gA as t,_A as u,yA as v,vA as w,IA as x,EA as y,wA as z,TA as A,dR as B,fR as C,hS as D,dS as E,oi as F,a0 as G,c0 as H,ai as I,F0 as J,B0 as K};
